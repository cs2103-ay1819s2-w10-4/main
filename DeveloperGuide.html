<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Know-It-All - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html">Know-It-All</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/cs2103-ay1819s2-w10-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Know-It-All - Developer Guide</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>CS2103-AY2018/19s2-W10-4 Team</code>      Since: <code>Mar 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a>
<ul class="sectlevel2">
<li><a href="#prerequisites">1.1. Prerequisites</a></li>
<li><a href="#setting-up-the-project-in-your-computer">1.2. Setting up the project in your computer</a></li>
<li><a href="#verifying-the-setup">1.3. Verifying the setup</a></li>
<li><a href="#configurations-to-do-before-writing-code">1.4. Configurations to do before writing code</a>
<ul class="sectlevel3">
<li><a href="#configuring-the-coding-style">1.4.1. Configuring the coding style</a></li>
<li><a href="#updating-documentation-to-match-your-fork">1.4.2. Updating documentation to match your fork</a></li>
<li><a href="#setting-up-ci">1.4.3. Setting up CI</a></li>
<li><a href="#getting-started-with-coding">1.4.4. Getting started with coding</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-Logic">2.3. Logic component</a></li>
<li><a href="#Design-Model">2.4. Model component</a></li>
<li><a href="#Design-Storage">2.5. Storage component</a></li>
<li><a href="#Design-Commons">2.6. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#cards">3.1. Cards</a>
<ul class="sectlevel3">
<li><a href="#current-implementation">3.1.1. Current Implementation</a></li>
<li><a href="#design-considerations">3.1.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#score-feature">3.2. Score feature</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-2">3.2.1. Current Implementation</a></li>
<li><a href="#design-considerations-2">3.2.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#report-feature">3.3. Report feature</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-3">3.3.1. Current Implementation</a></li>
<li><a href="#design-considerations-3">3.3.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#state">3.4. State</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-4">3.4.1. Current Implementation</a></li>
<li><a href="#design-considerations-4">3.4.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#import-export-feature">3.5. Import/Export feature</a>
<ul class="sectlevel3">
<li><a href="#csv-file-structure">3.5.1. CSV file structure</a></li>
<li><a href="#design-considerations-5">3.5.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#folders">3.6. Folders</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-6">3.6.1. Current Implementation</a></li>
<li><a href="#design-considerations-6">3.6.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#navigating-folders">3.7. Navigating folders</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-7">3.7.1. Current Implementation</a></li>
<li><a href="#design-considerations-7">3.7.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#test-session-feature">3.8. Test Session feature</a>
<ul class="sectlevel3">
<li><a href="#overall-current-implementation">3.8.1. Overall Current Implementation</a></li>
<li><a href="#overall-design-considerations">3.8.2. Overall Design Considerations</a></li>
<li><a href="#test-end-command">3.8.3. Test / End Command</a></li>
<li><a href="#answer-command">3.8.4. Answer Command</a></li>
<li><a href="#next-command">3.8.5. Next Command</a></li>
</ul>
</li>
<li><a href="#undo-redo-feature">3.9. Undo/Redo feature</a>
<ul class="sectlevel3">
<li><a href="#current-implementation-11">3.9.1. Current Implementation</a></li>
<li><a href="#design-considerations-10">3.9.2. Design Considerations</a></li>
</ul>
</li>
<li><a href="#logging">3.10. Logging</a></li>
<li><a href="#Implementation-Configuration">3.11. Configuration</a></li>
</ul>
</li>
<li><a href="#documentation">4. Documentation</a>
<ul class="sectlevel2">
<li><a href="#editing-documentation">4.1. Editing Documentation</a></li>
<li><a href="#publishing-documentation">4.2. Publishing Documentation</a></li>
<li><a href="#converting-documentation-to-pdf-format">4.3. Converting Documentation to PDF format</a></li>
<li><a href="#Docs-SiteWideDocSettings">4.4. Site-wide Documentation Settings</a></li>
<li><a href="#Docs-PerFileDocSettings">4.5. Per-file Documentation Settings</a></li>
<li><a href="#site-template">4.6. Site Template</a></li>
</ul>
</li>
<li><a href="#Testing">5. Testing</a>
<ul class="sectlevel2">
<li><a href="#running-tests">5.1. Running Tests</a></li>
<li><a href="#types-of-tests">5.2. Types of tests</a></li>
<li><a href="#troubleshooting-testing">5.3. Troubleshooting Testing</a></li>
</ul>
</li>
<li><a href="#dev-ops">6. Dev Ops</a>
<ul class="sectlevel2">
<li><a href="#build-automation">6.1. Build Automation</a></li>
<li><a href="#continuous-integration">6.2. Continuous Integration</a></li>
<li><a href="#coverage-reporting">6.3. Coverage Reporting</a></li>
<li><a href="#documentation-previews">6.4. Documentation Previews</a></li>
<li><a href="#making-a-release">6.5. Making a Release</a></li>
<li><a href="#managing-dependencies">6.6. Managing Dependencies</a></li>
</ul>
</li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing</a>
<ul class="sectlevel2">
<li><a href="#launch-and-shutdown">F.1. Launch and Shutdown</a></li>
<li><a href="#starting-and-ending-a-test-session">F.2. Starting and ending a test session</a></li>
<li><a href="#answerquestionintest">F.3. Answering a question in a test session</a></li>
<li><a href="#navigating-to-the-next-question-in-a-test-session">F.4. Navigating to the next question in a test session</a></li>
<li><a href="#viewing-a-report-display">F.5. Viewing a report display</a></li>
<li><a href="#sorting-the-cards">F.6. Sorting the cards</a></li>
<li><a href="#folder-operations">F.7. Folder operations</a></li>
<li><a href="#navigating-in-and-out-of-folders">F.8. Navigating in and out of folders</a></li>
<li><a href="#saving-data">F.9. Saving data</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="prerequisites"><a class="link" href="#prerequisites">1.1. Prerequisites</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>JDK <code>9</code></strong> or later</p>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
JDK <code>10</code> on Windows will fail to run tests in <a href="UsingGradle.html#Running-Tests">headless mode</a> due to a <a href="https://github.com/javafxports/openjdk-jfx/issues/66">JavaFX bug</a>.
Windows developers are highly recommended to use JDK <code>9</code>.
</td>
</tr>
</table>
</div>
</li>
<li>
<p><strong>IntelliJ</strong> IDE</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
IntelliJ by default has Gradle and JavaFx plugins installed.<br>
Do not disable them. If you have disabled them, go to <code>File</code> &gt; <code>Settings</code> &gt; <code>Plugins</code> to re-enable them.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="setting-up-the-project-in-your-computer"><a class="link" href="#setting-up-the-project-in-your-computer">1.2. Setting up the project in your computer</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fork this repo, and clone the fork to your computer</p>
</li>
<li>
<p>Open IntelliJ (if you are not in the welcome screen, click <code>File</code> &gt; <code>Close Project</code> to close the existing project dialog first)</p>
</li>
<li>
<p>Set up the correct JDK version for Gradle</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Click <code>Configure</code> &gt; <code>Project Defaults</code> &gt; <code>Project Structure</code></p>
</li>
<li>
<p>Click <code>New&#8230;&#8203;</code> and find the directory of the JDK</p>
</li>
</ol>
</div>
</li>
<li>
<p>Click <code>Import Project</code></p>
</li>
<li>
<p>Locate the <code>build.gradle</code> file and select it. Click <code>OK</code></p>
</li>
<li>
<p>Click <code>Open as Project</code></p>
</li>
<li>
<p>Click <code>OK</code> to accept the default settings</p>
</li>
<li>
<p>Open a console and run the command <code>gradlew processResources</code> (Mac/Linux: <code>./gradlew processResources</code>). It should finish with the <code>BUILD SUCCESSFUL</code> message.<br>
This will generate all resources required by the application and tests.</p>
</li>
<li>
<p>Open <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/main/java/seedu/knowitall/ui/MainWindow.java"><code>MainWindow.java</code></a> and check for any code errors</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Due to an ongoing <a href="https://youtrack.jetbrains.com/issue/IDEA-189060">issue</a> with some of the newer versions of IntelliJ, code errors may be detected even if the project can be built and run successfully</p>
</li>
<li>
<p>To resolve this, place your cursor over any of the code section highlighted in red. Press <span class="keyseq"><kbd>ALT</kbd>+<kbd>ENTER</kbd></span>, and select <code>Add '--add-modules=&#8230;&#8203;' to module compiler options</code> for each error</p>
</li>
</ol>
</div>
</li>
<li>
<p>Repeat this for the test <a href="#folder">folder</a> as well (e.g. check <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/test/java/seedu/knowitall/ui/HelpWindowTest.java"><code>HelpWindowTest.java</code></a> for code errors, and if so, resolve it the same way)</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="verifying-the-setup"><a class="link" href="#verifying-the-setup">1.3. Verifying the setup</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>seedu.knowitall.MainApp</code> and try a few commands</p>
</li>
<li>
<p><a href="#Testing">Run the tests</a> to ensure they all pass.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="configurations-to-do-before-writing-code"><a class="link" href="#configurations-to-do-before-writing-code">1.4. Configurations to do before writing code</a></h3>
<div class="sect3">
<h4 id="configuring-the-coding-style"><a class="link" href="#configuring-the-coding-style">1.4.1. Configuring the coding style</a></h4>
<div class="paragraph">
<p>This project follows <a href="https://github.com/oss-generic/process/blob/master/docs/CodingStandards.adoc">oss-generic coding standards</a>. IntelliJ&#8217;s default style is mostly compliant with ours but it uses a different import order from ours. To rectify,</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to <code>File</code> &gt; <code>Settings&#8230;&#8203;</code> (Windows/Linux), or <code>IntelliJ IDEA</code> &gt; <code>Preferences&#8230;&#8203;</code> (macOS)</p>
</li>
<li>
<p>Select <code>Editor</code> &gt; <code>Code Style</code> &gt; <code>Java</code></p>
</li>
<li>
<p>Click on the <code>Imports</code> tab to set the order</p>
<div class="ulist">
<ul>
<li>
<p>For <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code>: Set to <code>999</code> to prevent IntelliJ from contracting the import statements</p>
</li>
<li>
<p>For <code>Import Layout</code>: The order is <code>import static all other imports</code>, <code>import java.*</code>, <code>import javax.*</code>, <code>import org.*</code>, <code>import com.*</code>, <code>import all other imports</code>. Add a <code>&lt;blank line&gt;</code> between each <code>import</code></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Optionally, you can follow the <a href="UsingCheckstyle.html">UsingCheckstyle.adoc</a> document to configure Intellij to check style-compliance as you write code.</p>
</div>
</div>
<div class="sect3">
<h4 id="updating-documentation-to-match-your-fork"><a class="link" href="#updating-documentation-to-match-your-fork">1.4.2. Updating documentation to match your fork</a></h4>
<div class="paragraph">
<p>After forking the repo, the documentation will still have the SE-EDU branding and refer to the
<code>cs2103-ay1819s2-w10-4/main</code> repo.</p>
</div>
<div class="paragraph">
<p>If you plan to develop this fork as a separate product (i.e. instead of contributing to <code>cs2103-ay1819s2-w10-4/main</code>)
, you should do the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Configure the <a href="#Docs-SiteWideDocSettings">site-wide documentation settings</a> in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/build.gradle"><code>build.gradle</code></a>, such as the <code>site-name</code>, to suit your own project.</p>
</li>
<li>
<p>Replace the URL in the attribute <code>repoURL</code> in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/DeveloperGuide.adoc"><code>DeveloperGuide.adoc</code></a> and <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/UserGuide.adoc"><code>UserGuide.adoc</code></a> with the URL of your fork.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="setting-up-ci"><a class="link" href="#setting-up-ci">1.4.3. Setting up CI</a></h4>
<div class="paragraph">
<p>Set up Travis to perform Continuous Integration (CI) for your fork. See <a href="UsingTravis.html">UsingTravis.adoc</a> to learn how to set it up.</p>
</div>
<div class="paragraph">
<p>After setting up Travis, you can optionally set up coverage reporting for your team fork (see <a href="UsingCoveralls.html">UsingCoveralls.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Coverage reporting could be useful for a team repository that hosts the final version but it is not that useful for your personal fork.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Optionally, you can set up AppVeyor as a second CI (see <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a>).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Having both Travis and AppVeyor ensures your App works on both Unix-based platforms and Windows-based platforms (Travis is Unix-based and AppVeyor is Windows-based)
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="getting-started-with-coding"><a class="link" href="#getting-started-with-coding">1.4.4. Getting started with coding</a></h4>
<div class="paragraph">
<p>When you are ready to start coding, get some sense of the overall design by reading <a href="#Design-Architecture">Section 2.1, &#8220;Architecture&#8221;</a>.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/Architecture.png" alt="Architecture" width="600">
</div>
<div class="title">Figure 1. Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of the App. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.pptx</code> files used to create diagrams in this document can be found in the <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/diagrams/">diagrams</a> folder. To update a diagram, modify the diagram in the pptx file, select the objects of the diagram, and choose <code>Save as picture</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has only one class called <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/main/java/seedu/knowitall/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of the App consists of four components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>: The UI of the App.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>: The command executor.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>: Holds the data of the App in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>: Reads data from, and writes data to, the hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Each of the four components</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, the <code>Logic</code> component (see the class diagram given below) defines it&#8217;s API in the <code>Logic.java</code> interface and exposes its functionality using the <code>LogicManager.java</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
<div class="title">Figure 2. Class Diagram of the Logic Component</div>
</div>
<h4 id="how-the-architecture-components-interact-with-each-other" class="discrete">How the architecture components interact with each other</h4>
<div class="paragraph">
<p>The <em>Sequence Diagram</em> below shows how the components interact with each other for the scenario where the user issues the command <code>delete 1</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SDforDeleteCard.png" alt="SDforDeleteCard" width="800">
</div>
<div class="title">Figure 3. Component interactions for <code>delete 1</code> command</div>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram" width="800">
</div>
<div class="title">Figure 4. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/cs2103-ay1819s2-w10-4/main/blob/master/src/main/java/seedu/knowitall/ui/Ui.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p><code>UI</code> consists of a <code>MainWindow</code> made up of many parts as seen above e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>CardMainScreen</code>,
<code>StatusBarFooter</code>, <code>BrowserPanel</code> etc. All these parts, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code>
class.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework.
The layout of these UI parts are defined in matching <code>.fxml</code> files located in the <code>src/main/resources/view</code> folder.
For example, the layout of the <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/main/java/seedu/knowitall/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Uses <code>Logic</code> component to execute user commands.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data to update UI with the modified data.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.3. Logic component</a></h3>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="800">
</div>
<div class="title">Figure 5. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/cs2103-ay1819s2-w10-4/main/blob/master/src/main/java/seedu/knowitall/logic/Logic.java"><code>Logic.java</code></a></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>Logic</code> uses the <code>CardFolderParser</code> class to parse the user command.</p>
</li>
<li>
<p>This results in a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a card).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Given below is the Sequence Diagram for interactions within the <code>Logic</code> component for the <code>execute("delete 1")</code> API call.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DeleteCardSdForLogic.png" alt="DeleteCardSdForLogic" width="800">
</div>
<div class="title">Figure 6. Interactions Inside the Logic Component for the <code>delete 1</code> Command</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.4. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram" width="800">
</div>
<div class="title">Figure 7. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/cs2103-ay1819s2-w10-4/main/blob/master/src/main/java/seedu/knowitall/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <code>UserPref</code> object that represents the user&#8217;s preferences.</p>
</li>
<li>
<p>stores a list of <code>VersionedCardFolders</code> representing the folders that the user has. These <code>VersionedCardFolders</code> in turn each store a list of <code>Cards</code>. Each <code>Card</code> stores information about a single question.</p>
</li>
<li>
<p>exposes unmodifiable instances of <code>FilteredList&lt;Card&gt;</code> and <code>FilteredList&lt;VersionedCardFolder&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that the UI automatically updates when the data in the list change.</p>
</li>
<li>
<p>exposes two instances of <code>SimpleObjectProperty&lt;Card&gt;</code>, which represent the current cards being selected and being tested, if any.</p>
</li>
<li>
<p>does not depend on any of the other three components.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As a more OOP model, we can change the <code>Card</code> implementation to be that of a parent class, from which 2 subclasses, <code>SingleAnswerCard</code> and <code>McqCard</code> can inherit from. This would eliminate the need for the <code>Card</code> class to maintain a Set of MCQ <code>Options</code> even if it is a Single-answer card. An example of how such a model may look like is given below.<br>
<br>
<span class="image"><img src="images/ModelClassBetterOopDiagram.png" alt="ModelClassBetterOopDiagram" width="800"></span>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.5. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram" width="800">
</div>
<div class="title">Figure 8. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/cs2103-ay1819s2-w10-4/main/blob/master/src/main/java/seedu/knowitall/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>can save <code>UserPref</code> objects in json format and read it back. It maintains a single instance of <code>UserPrefStorage</code>.</p>
</li>
<li>
<p>can save <code>CardFolder</code> data in json format and read it back. It holds a list of <code>CardFolderStorage</code> objects, each handling the storage functions of a single <code>CardFolder</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.6. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.knowitall.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="cards"><a class="link" href="#cards">3.1. Cards</a></h3>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">3.1.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The <code>Card</code> is one of the core aspects of the application. Cards are the result of morphing the <code>Person</code> class from the original AddressBook model. This implementation incorporates the <code>Model</code> and <code>Logic</code> components.</p>
</div>
<h4 id="model" class="discrete">Model</h4>
<div class="paragraph">
<p>To allow users to manage Cards, the following methods are available via the <code>Model</code> component:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#addCard(Card card)</code> - Adds a new card to the currently active <code>VersionedCardFolder</code> folder</p>
</li>
<li>
<p><code>ModelManager#setCard(Card target, Card editedCard)</code> - Edits the information of a target card in the currently active folder</p>
</li>
<li>
<p><code>ModelManager#deleteCard(Card target)</code> - Deletes the target card from the currently active folder</p>
</li>
<li>
<p><code>ModelManager#hasCard(Card card)</code> - Checks if a card is already present in the currently active folder</p>
</li>
</ul>
</div>
<h4 id="logic" class="discrete">Logic</h4>
<div class="paragraph">
<p>As with all other commands, the <code>LogicManager#execute(String commandText)</code> method of the <code>Logic</code> component parses the user&#8217;s input, say a command to add a new card, and executes the corresponding <code>Command</code>.</p>
</div>
<h4 id="example-usage" class="discrete">Example Usage</h4>
<div class="paragraph">
<p>The following steps detail the underlying logic executed when a user does a card-related operation, say an add card operation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User is in the <code>Organs</code> folder and wants to add a new card, with question 'What is the largest organ?' and answer 'Skin'. This is done by typing <code>add q/What is the largest organ? a/Skin</code>.</p>
<div class="paragraph">
<p><span class="image"><img src="images/CardImplementationAddExample.png" alt="CardImplementationAddExample" width="800"></span></p>
</div>
</li>
<li>
<p>The command parser reads the string input (as entered by the user) and returns the corresponding <code>Command</code>, an <code>AddCommand</code> object in this instance.</p>
</li>
<li>
<p>Upon execution, the <code>AddCommand</code> checks if the card to be added is already present in the current folder. If so, an exception is thrown.</p>
</li>
<li>
<p>The <code>AddCommand</code> then calls the <code>ModelManager#addCard(Card card)</code> method.</p>
</li>
<li>
<p>The new card will then be added to the active <code>VersionedCardFolder</code>.</p>
</li>
<li>
<p>If the user is not inside a folder, or if the card to add already exists inside the current folder, the <code>addCommand</code> will throw a <code>CommandException</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following sequence diagram demonstrates how <code>AddCommand</code> works.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/AddCommandSequenceDiagram.png" alt="AddCommandSequenceDiagram" width="800"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.1.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-represent-options-for-mcq-cards"><a class="link" href="#aspect-how-to-represent-options-for-mcq-cards">Aspect: How to represent options for MCQ cards</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Maintain a set of <code>Option</code> objects to represent incorrect options, separate from the <code>Answer</code> field of each <code>Card</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simple to implement, easy to convert the card type between MCQ and Single-answer, requires the least amount of implementation changes to <code>Card</code>.</p>
</li>
<li>
<p>Cons: Single-answer cards still have to maintain an empty <code>Option</code> set.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Maintain 2 separate subclasses of <code>Card</code>, one for Single-answer and another for MCQ.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More object-oriented implementation.</p>
</li>
<li>
<p>Cons: Harder to implement.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="score-feature"><a class="link" href="#score-feature">3.2. Score feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-2"><a class="link" href="#current-implementation-2">3.2.1. Current Implementation</a></h4>
<div class="paragraph">
<p>To implement tracking of the number of correct and incorrect attempts, a new attribute <code>Score</code> was added to <code>Card</code>.
Score keeps track of both numbers.
This attribute is encapsulated in the <code>Score</code> class.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">3.2.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-represent-score"><a class="link" href="#aspect-how-to-represent-score">Aspect: How to represent score</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Track total number of correct attempts and total number of attempts</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simple to implement. Most semantically correct.</p>
</li>
<li>
<p>Cons: Score will be rolling average. If the question is answered wrongly even once, the score can never be 100%.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Track only last X attempts.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: An improvement in performance will be more obvious.</p>
</li>
<li>
<p>Cons: Uses more memory. Have to delete the X+1th score every time a new score is added.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-read-write-score-from-file"><a class="link" href="#aspect-how-to-read-write-score-from-file">Aspect: How to read/write score from file</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Read/write as <code>String</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: `String`s are easier to read/write to file.</p>
</li>
<li>
<p>Cons: There must be strict checks when instantiating score from strings as they are prone to many kinds of formatting errors.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Read/write as a double.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: A <code>double</code> can represent both numbers with just one, which then can be converted to <code>String</code>.</p>
</li>
<li>
<p>Cons: When instantiating score from double, it might be simplified.
For example, 2 correct attempts and 4 total attempts becomes 0.5. When instantiating from double, it is interpreted as 1 correct attempt and 2 total attempts.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Read and write both numbers as integers.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Most correct implementation.</p>
</li>
<li>
<p>Cons: Reading/writing to file now needs to take into account this fact. The <code>toString()</code> method cannot be used to write to file.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="report-feature"><a class="link" href="#report-feature">3.3. Report feature</a></h3>
<div class="sect3">
<h4 id="current-implementation-3"><a class="link" href="#current-implementation-3">3.3.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The report feature is meant to provide the user with the ability to look back and compare their test score from
previous test sessions. It makes use of Java FXML features to display scores in a user-friendly manner. The following
methods are used to enter or exit the report display:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Model#enterReportDisplay()</code>&#8201;&#8212;&#8201;Enters the report display for this folder.</p>
</li>
<li>
<p><code>Model#exitReportDisplay()</code>&#8201;&#8212;&#8201;Exits the report display back into the folder.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here is a screenshot of how it looks:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/ReportDisplay.png" alt="ReportDisplay" width="800"></span></p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the report display is rendered.</p>
</div>
<div class="paragraph">
<p>Step 1. The user is in a folder and wishes to see a report by executing <code>report</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. A <code>ReportCommand</code> is created and executed by <code>LogicManager</code>. <code>Model#enterReportDisplay()</code> is called, which prepares
the model for report by sorting the cards by lowest scores first. The state is also checked to make sure the user is in
a folder.</p>
</div>
<div class="paragraph">
<p>Step 3. A <code>CommandResult</code> with type <code>ENTERED_REPORT</code> is returned by the <code>ReportCommand</code>.</p>
</div>
<div class="paragraph">
<p>Below is a sequence diagram, summarizing the above operations.</p>
</div>
<div class="paragraph">
<div class="title">Sequence Diagram for Report Command</div>
<p><span class="image"><img src="images/ReportCommandSequenceDiagram.png" alt="ReportCommandSequenceDiagram" width="800"></span></p>
</div>
<div class="paragraph">
<p>Step 4. The <code>CommandResult</code> is passed to UI, which now has to render the new screen. It does so by getting the current
 <code>CardFolder</code> from Model, then instantiating a <code>ReportDisplay</code> with it. <code>ReportDisplay</code> prepares several elements for
 display by Java FXML, split by their content:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ReportDisplay#displayTitle()</code>&#8201;&#8212;&#8201;Displays title and how many test scores were recorded.</p>
</li>
<li>
<p><code>ReportDisplay#displayGraph()</code>&#8201;&#8212;&#8201;Takes maximum of last 10 test scores from <code>CardFolder</code>, and
adds them as points on the Java FXML <code>AreaChart</code>.</p>
</li>
<li>
<p><code>ReportDisplay#displayQuestions()</code>&#8201;&#8212;&#8201;Displays maximum of 3 questions from <code>CardFolder</code> which have lowest the
individual <a href="#cardscore">card scores</a>.</p>
</li>
<li>
<p><code>ReportDisplay#displayTagline()</code>&#8201;&#8212;&#8201;Calculates change in test score from last and second last test session
(if available) and formats it in a user-friendly manner.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Step 5. The <code>ReportDisplay</code> is rendered by <code>fullScreenPlaceholder</code>.</p>
</div>
<div class="paragraph">
<p>Below is a sequence diagram summarizing steps 4 and 5. The interactions with Java FXML elements are omitted for clarity.</p>
</div>
<div class="paragraph">
<div class="title">Sequence diagram for Report Display</div>
<p><span class="image"><img src="images/ReportDisplaySequenceDiagram.png" alt="ReportDisplaySequenceDiagram" width="800"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">3.3.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-display-test-scores"><a class="link" href="#aspect-how-to-display-test-scores">Aspect: How to display test scores</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Display previous test scores in a graph and lowest scoring cards</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Has benefits of seeing the graph as well as knowing which cards the user needs help in.</p>
</li>
<li>
<p>Cons: More performance and memory intensive. Screen may get messy if there are too many items.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Display previous test scores in a graph</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More visual, easier to see change in test score.</p>
</li>
<li>
<p>Cons: More performance and memory intensive as a graph needs to be rendered. Remedy: Display only last ten.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> List the previous test scores</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User can see more accurate numbers. They can also see the individual card scores, so that
they can tell where they need help.</p>
</li>
<li>
<p>Cons: Hard to see change from test session to test session.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-where-to-display-test-scores"><a class="link" href="#aspect-where-to-display-test-scores">Aspect: Where to display test scores</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Display in full screen, entered from card folder</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Works because the test scores are scored by card folders.</p>
</li>
<li>
<p>Cons: Need to implement a new state for commands, because it should not be possible to do some e.g. add card while
in fullscreen report.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Display in right panel, with cards on the left</p>
<div class="ulist">
<ul>
<li>
<p>Pros: User can see all their cards at the same time.</p>
</li>
<li>
<p>Cons: Less space to render report details such as graph.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="state"><a class="link" href="#state">3.4. State</a></h3>
<div class="sect3">
<h4 id="current-implementation-4"><a class="link" href="#current-implementation-4">3.4.1. Current Implementation</a></h4>
<div class="sect4">
<h5 id="model-2"><a class="link" href="#model-2">Model</a></h5>
<div class="paragraph">
<p>Previously, Model did not have a concept of state as there was only one screen where the user could be. But
as Know-It-All grew, there are more screens that a user can be in and more commands that can only be executed in certain
screens. Thus there is a need to manage the state in Model.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">3.4.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-to-manage-state"><a class="link" href="#aspect-how-to-manage-state">Aspect: How to manage state</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use enum of States</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Fixes the states that Model can be in. By design, only one state can be true at any point in time, if state is set to type State which is a enum.</p>
</li>
<li>
<p>Cons: Need to add new states to enum.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use Strings</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No need to define new states. Trivial to change into new state: Simply set state to "folder", or "homeDir". Easy to check as well, e.g. to Check state == "folder".</p>
</li>
<li>
<p>Cons: Becomes very unsafe as even a typo would mean entering a state that other parts of the application would not understand.
e.g. Setting state to "Folder" instead of "folder".</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use boolean flags</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to manipulate. Clear when there are only two states.</p>
</li>
<li>
<p>Cons: Becomes very messy when there are more states, since there is a need to ensure that only one boolean flag
is true at any point in time. E.g., only one of inFolder, inHomeDir, inTest&#8230;&#8203; can be true.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="import-export-feature"><a class="link" href="#import-export-feature">3.5. Import/Export feature</a></h3>
<h4 id="current-implementation-5" class="discrete">Current Implementation</h4>
<div class="paragraph">
<p>The Import and Export feature is facilitated by the Logic and model components, together
with the addition of 2 new classes inside the csvmanager package defined under
the storage package.</p>
</div>
<h5 id="logic-2" class="discrete">Logic</h5>
<div class="paragraph">
<p>Similar to how the current commands are implemented, where each specific command inherits from the abstract
class command, the Import and Export command likewise inherit from the command class.</p>
</div>
<h5 id="model-3" class="discrete">Model</h5>
<div class="paragraph">
<p>The model component supports the addition of a new object attribute <code>CsvManager</code>, that carries out the read and
write logic of cards to external files.</p>
</div>
<div class="paragraph">
<p>Additionally, model implements two new methods, <code>Model#importCardFolders</code> and <code>Model#exportCardFolders</code>.
These two methods further call the CsvManager API to read and write card folders.</p>
</div>
<div class="paragraph">
<p>Model also implements <code>Model#setTestCsvPath</code> and the <code>Model#getDefaultPath</code> which are only used during testing.</p>
</div>
<h5 id="csvmanager-package" class="discrete">csvmanager package:</h5>
<div class="paragraph">
<p>The csvmanager package contains all classes dealing with the reading and writing of cardfolders into and out to
the model.</p>
</div>
<div class="paragraph">
<p>The classes include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>CsvManager - Main class responsible for the writing and reading of .csv files during the import and export of files</p>
</li>
<li>
<p>CsvFile - Wrapper class for file name input by user</p>
</li>
<li>
<p>CsvCommands interface - API for import/export method in CsvManager</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The main logic for the import / export command is carried out inside the CsvManager class specified by it&#8217;s
API <code>CsvManager#writeFoldersToCsv</code> and <code>CsvManager#readFoldersToCsv</code>.</p>
</div>
<h5 id="example-usage-2" class="discrete">Example Usage</h5>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User wants to export folders <code>Human Anatomy</code> and <code>Nervous System</code>.
Suppose that these two folders index as shown on the main application screen is 1 and 3 respectively.
The user types <code>export 1 3</code></p>
</li>
<li>
<p>The Export command parser extracts the indices, parses the indices into a List&lt;Integer&gt; and
<code>ExportCommand</code> object, which keeps track of the indices.</p>
</li>
<li>
<p>The Export command executes, calling <code>Model#exportCardFolders</code> method.</p>
</li>
<li>
<p>Model#exportCardFolders method checks that all card folders specified by user exists inside the list of card folders.
With reference to the diagram below, we can see that the indices specified by the user corresponds
to each card folder.<br>
The method throws <code>CardFolderNotFoundException</code> if card folder index is not found in list.</p>
<div class="imageblock">
<div class="content">
<img src="images/import_export_model_list1.png" alt="import export model list1" width="800">
</div>
</div>
</li>
<li>
<p><code>CsvManager</code> is called to carry out the main logic of writing the cardfolders to file.
File exported will be created in the project root directory.<br>
Names of the files created will correspond to the names of their corresponding cardfolders.<br>
i.e <code>Human Anatomy.csv</code> and <code>Nervous System.csv</code></p>
</li>
<li>
<p>User wants to import <code>Human Anatomy.csv</code> file.
<code>Human Anatomy.csv</code> file contains flashcards represented in csv file format.
User types <code>import Blood.csv</code> command</p>
</li>
<li>
<p>Import command parser extracts file name, wraps file into a <code>CsvFile</code> object and
parses the CsvFile into an Import Command object.</p>
</li>
<li>
<p>Logic unit executes the import command.
The execute method makes a call to <code>Model#importCardFolder</code> method.</p>
</li>
<li>
<p>CsvManager is called to carry out the main logic of reading cardfolders to file.
File imported will be serialized into a <code>CardFolder</code> object and
added to the <code>filteredFoldersList</code> variable.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Both Imported and Exported files have to be placed in the project root directory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The below diagram shows the sequence diagram for the Import/Export commands</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/import_export_sequenceDiagram.png" alt="import export sequenceDiagram" width="1000">
</div>
</div>
<div class="sect3">
<h4 id="csv-file-structure"><a class="link" href="#csv-file-structure">3.5.1. CSV file structure</a></h4>
<div class="paragraph">
<p>Example of a common cardfolder csv file<br></p>
</div>
<div class="paragraph">
<p>Blood.csv</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/Blood.png" alt="Blood" width="800">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The first line of any file contains the headers for each card.
Headers have to be present in the csv file for import.</p>
</li>
<li>
<p>Each row of the csv file represents a single flashcard.</p>
</li>
<li>
<p>Options header can take more than one value or none.</p>
</li>
<li>
<p>Hints header can take either 0 or 1 value.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">3.5.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-which-component-responsible-for-import-export-logic"><a class="link" href="#aspect-which-component-responsible-for-import-export-logic">Aspect: Which component responsible for import/export logic</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: Implement read and write card folders in <code>StorageManager</code> class</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>The most intuitive solution,
since Storage involves read and write logic</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Model and Storage are now more coupled together.</p>
</li>
<li>
<p>Storage has more than one responsibility now.
Instead of managing the internal data of card folder, it now has to
manage the read and write to csv files.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Implement read and write card folders in <code>csvmanager</code> package class. (Current)</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Separate responsibilities of both Storage and Model.<br></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Model class can focus on the representation of the in-memory card folders
Storage<br></p>
</li>
<li>
<p>Storage class can focus on managing the internal card folder data (.json files)</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>More code to write. Storage class could possibly call the relevant API&#8217;s
to convert .json file  into .csv file</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-csv-file-design-structure"><a class="link" href="#aspect-csv-file-design-structure">Aspect: csv file design structure</a></h5>
<div class="ulist">
<ul>
<li>
<p>Alternative 1: Export multiple card folders into a single file.</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>Saves user trouble of calling multiple import for files.
Each card folder is separated by a new line.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Not a .csv file anymore.
First line header would now specify cardfolder name before card headers,
leading to unequal rows and columns</p>
</li>
<li>
<p>Users will be unable to select specific card folders to import if multiple card folders
have been exported into a single file.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Alternative 2: Export each card folder into a single file (Current)</p>
<div class="ulist">
<ul>
<li>
<p>Pros:</p>
<div class="ulist">
<ul>
<li>
<p>More flexibility for users to import desired card folders,
since 1 cardfolder = 1 csv file.</p>
</li>
<li>
<p>Files are now correctly formatted as .csv file</p>
</li>
</ul>
</div>
</li>
<li>
<p>Cons:</p>
<div class="ulist">
<ul>
<li>
<p>Slightly more work needed to import multiple card folders.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="folders"><a class="link" href="#folders">3.6. Folders</a></h3>
<div class="sect3">
<h4 id="current-implementation-6"><a class="link" href="#current-implementation-6">3.6.1. Current Implementation</a></h4>
<div class="paragraph">
<p>A folder is another layer of abstraction over a <code>CardFolder</code>. Where we dealt with a single <code>CardFolder</code> in previous iterations, we now have multiple <code>CardFolders</code> that each have their own set of <code>Cards</code>. Users are able to manage each <code>CardFolder</code> independently.</p>
</div>
<div class="paragraph">
<p>Folders in the application are achieved via enhancements from the AddressBook implementation. The changes span across all four components (UI, Logic, Model and Storage).</p>
</div>
<div class="sect4">
<h5 id="model-4"><a class="link" href="#model-4">Model</a></h5>
<div class="paragraph">
<p>Previously, an instance of <code>ModelManager</code> contained only a single <code>VersionedCardFolder</code>, holding the current and previous state of the <code>CardFolder</code>. To support multiple folders, <code>ModelManager</code> now holds an <code>ObservableList</code> of <code>CardFolders</code>. The change is illustrated in the figure below, with the original implementation on the left and new implementation on the right.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModelEnhancementDiagram.png" alt="ModelEnhancementDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>To allow users to operate on multiple <code>CardFolders</code>, the following notable methods were also introduced:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#addFolder(CardFolder cardfolder)</code> - Adds a specified cardfolder to the <code>ModelManager</code>’s list</p>
</li>
<li>
<p><code>ModelManager#deleteFolder(int index)</code> - Deletes the <code>CardFolder</code> at the specified index in the <code>ModelManager&#8217;s</code> list</p>
</li>
<li>
<p><code>ModelManager#getActiveCardFolderIndex()</code> - Gets the index of the current active <code>CardFolder</code></p>
</li>
<li>
<p><code>ModelManager#enterFolder(int index)</code> - Specifies the active <code>CardFolder</code> for operations to be performed on via the index in <code>ModelManager</code>’s list and sets the boolean <code>inFolder</code> to <code>true</code> to denote that user is inside a folder.</p>
</li>
<li>
<p><code>ModelManager#exitFolderToHome()</code> - Sets the boolean <code>inFolder</code> to <code>false</code> to indicate that the user is at the home directory.</p>
</li>
<li>
<p><code>ModelManager#renameFolder(int index, String newName)</code> - Renames the folder at the specified index in the <code>ModelManager&#8217;s</code> list to the new name.</p>
</li>
<li>
<p><code>ModelManager#getState()</code> - Returns the current state of the <code>ModelManager</code>. The possible states are {<code>IN_FOLDER</code>, <code>IN_HOMEDIR</code>, <code>IN_TEST</code>, <code>IN_REPORT</code>}.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="storage"><a class="link" href="#storage">Storage</a></h5>
<div class="paragraph">
<p>Similarly, the <code>StorageManager</code> needs to represent each <code>CardFolder</code> separately. In the same manner as in the Model component, we introduce a list of <code>JsonCardFolderStorages</code>. The change is illustrated in the figure below, with the original implementation on the left and new implementation on the right.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StorageEnhancementDiagram.png" alt="StorageEnhancementDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Notable new methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>StorageManager#readCardFolders()</code> - Reads in all <code>CardFolders</code> from all <code>CardFolderStorage</code> objects in the list.</p>
</li>
<li>
<p><code>StorageManager#saveCardFolders(List&lt;ReadOnlyCardFolder&gt; cardFolders)</code> - Saves all <code>CardFolders</code> provided in the argument to the user&#8217;s data directory.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="logic-3"><a class="link" href="#logic-3">Logic</a></h5>
<div class="paragraph">
<p>The existing implementation of the Logic component propagates changes in a Model&#8217;s <code>CardFolder</code> to the Storage component. With listeners, it is informed when a <code>CardFolder</code> is modified (e.g. a new card is added) so that it can invoke the appropriate Storage methods.</p>
</div>
<div class="paragraph">
<p>The same principle was applied to propagate changes regarding <code>CardFolders</code> themselves (and not their stored cards) to Storage: e.g. adding a new folder. Model is now an <code>Observable</code>, and changes to a Model’s <code>CardFolders</code> will inform the <code>LogicManager</code>, which in turn invokes <code>StorageManager#saveCardFolders(List&lt;ReadOnlyCardFolder&gt; cardFolders)</code>.</p>
</div>
<div class="paragraph">
<p>To illustrate how the Model, Storage and Logic components interact, below is a walkthrough of a typical usage scenario of the <code>addfolder</code> command. <a href="#addfoldersequencediagram">Figure 9, &#8220;Component interactions for an <code>addfolder</code> command&#8221;</a> is a sequence diagram that summarises the example:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 1. The <code>addfolder</code> command is executed. For example, <code>addfolder f</code>.</p>
</li>
<li>
<p>Step 2. As with every command, the command parser reads the input and generates the relevant <code>Command</code> object, in this case an <code>AddFolderCommand</code>. The object is returned to the <code>LogicManager</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the input is invalid (e.g. user did not provide a folder name or provided one that violated the constraints of folder names), Step 2 would not proceed and an error message is displayed. The Model and Storage components would not be modified.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 3. The <code>LogicManager</code> executes the <code>AddFolderCommand</code>, Before transferring control to the Model component with the <code>ModelManager#addFolder()</code> method, a few checks are performed to ensure that the user is inside a folder and the model does not already have a folder with the same name (not shown in sequence diagram).</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If any of the aforementioned checks do not success, Step 3 would end in a Command Exception being thrown and would not proceed. Model and Storage components would not be modified.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 4. The <code>ModelManager</code> creates a <code>VersionedCardFolder</code> to represent the newly created folder, storing a reference to its currently empty list of cards. Before returning control to the Logic component, <code>ModelManager#indicateModified()</code> is invoked to notify listeners in the <code>LogicManager</code> that the list of <code>CardFolders</code> have changed.</p>
</li>
<li>
<p>Step 5. The Logic component takes over control and checks if the <code>ModelManager</code> is modified. In the case of <code>addfolder</code> the object is indeed modified (as a result of Step 4) and thus the component proceeds to save the Model&#8217;s <code>CardFolders</code> to Storage.</p>
</li>
<li>
<p>Step 6. Before handing over control to Storage, the <code>LogicManager</code> obtains the information to save and the path to save to with <code>ModelManager#getCardFolders()</code> and <code>ModelManager#getCardFoldersFilesPath()</code> respectively. It then passes these objects as parameters when it calls <code>StorageManager#saveCardFolders()</code>.</p>
</li>
<li>
<p>Step 7. The Storage component receives control, with the <code>StorageManager</code> clearing the directory of data files at the specified path and creating <code>JsonCardFolderStorage</code> objects with path names equivalent to the names of the folders it has received. It then proceeds to invoke <code>JsonCardFolderStorage#saveCardFolder()</code> on all the <code>JsonCardFolderStorage</code> to save all the folders before returning to the <code>LogicManager</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the path provided by the Model Component is invalid, the Storage component throws an exception and an error message is displayed. The changes made to Model are not saved and the command does not execute successfully.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 8. The <code>LogicManager</code> terminates and returns the result of the command to the calling method.</p>
</li>
</ul>
</div>
<div id="addfoldersequencediagram" class="imageblock">
<div class="content">
<img src="images/AddFolderSequenceDiagram.png" alt="AddFolderSequenceDiagram" width="800">
</div>
<div class="title">Figure 9. Component interactions for an <code>addfolder</code> command</div>
</div>
</div>
<div class="sect4">
<h5 id="ui"><a class="link" href="#ui">UI</a></h5>
<div class="paragraph">
<p>As folders are a layer of abstraction over the cards, there is a need for the GUI to represent this abstraction for greater clarity and ease of use for the user. This is done by introducing the <code>FolderListPanel</code> class, which displays a list of all folders that the user has.</p>
</div>
<div class="paragraph">
<p>The <code>fullScreenPlaceholder:StackPane</code> object houses the content in the main window of our application. Depending on whether the user is in the home directory or within a folder, different UI objects are placed within <code>fullScreenPlaceholder</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When the user is in the home directory, <code>fullScreenPlaceholder</code> holds a <code>FolderListPanel</code> to display all the folders in a list inside the main window.</p>
</li>
<li>
<p>When the user is within a folder, <code>fullScreenPlaceholder</code> holds a <code>CardMainScreen</code> object, which is composed of a <code>CardListPanel</code> and <code>BrowserPanel</code>. These represent the list of cards on the scrolling sidebar, as well as the card viewer on the right. The content within the <code>CardMainScreen</code> depends on the particular folder the user has navigated into, as different folders hold different cards.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To better understand how the UI is updated, below is a walkthrough of what happens when the user enters a folder. Refer to the sequence diagram in <a href="#enterfoldersequencediagram">Figure 10, &#8220;UI behaviour when user enters folder&#8221;</a> for a visual representation:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Step 1. The Logic component informs the UI component that the user has entered a folder. The UI component responds by invoking <code>MainWindow#handleEnterFolder()</code>.</p>
</li>
<li>
<p>Step 2. UI retrieves the list of cards belonging to the entered folder from the <code>LogicManager</code>.</p>
</li>
<li>
<p>Step 3. A new <code>CardListPanel</code> is created with the information obtained in Step 2.</p>
</li>
<li>
<p>Step 4. The new <code>CardListPanel</code> from Step 3, together with the existing <code>BrowserPanel</code>, are used to create a new <code>CardMainScreen</code> object.</p>
</li>
<li>
<p>Step 5. The content held by <code>fullScreenPlaceholder</code> is replaced with the newly generated <code>CardMainScreen</code>.</p>
</li>
</ul>
</div>
<div id="enterfoldersequencediagram" class="imageblock">
<div class="content">
<img src="images/EnterFolderGUISequenceDiagram.png" alt="EnterFolderGUISequenceDiagram" width="800">
</div>
<div class="title">Figure 10. UI behaviour when user enters folder</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-6"><a class="link" href="#design-considerations-6">3.6.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-multiple-folders-are-represented-in-model"><a class="link" href="#aspect-how-multiple-folders-are-represented-in-model">Aspect: How multiple folders are represented in Model</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: List of structures representing individual folders</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Scalable and better follows OOP principles.</p>
</li>
<li>
<p>Cons: Hard to implement, alters fundamental architecture of components.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: A single structure containing Cards with information on their folder membership (folder operations performed by iterating over all cards)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: Not scalable, will be computationally expensive to perform folder operations when there are many cards and/or folders.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>: On the account of how computationally expensive it would be to parse through thousands of cards every card or folder operation, the first alternative was chosen and time was set aside to overcome the technical challenge of implementing the choice.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-folder-identification"><a class="link" href="#aspect-folder-identification">Aspect: Folder identification</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1</strong>: Use a unique folder name</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement.</p>
</li>
<li>
<p>Cons: The undo/redo feature would not be compatible with this approach, as checking equality between different versions of a folder across time necessarily requires the comparison of cards.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Identify a folder by its cards</p>
<div class="ulist">
<ul>
<li>
<p>Pros: There can be no folders with identical cards, preventing redundancy.</p>
</li>
<li>
<p>Cons: Two folders could have identical names as long as the cards are different, which is potentially confusing.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3 (current choice)</strong>: Mixed approach, use Alternative 1 for comparing different folders and Alternative 2 for comparing the same folder across time</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reaps the benefits of both approaches without the disadvantages.</p>
</li>
<li>
<p>Cons: Difficult to implement and for future developers to grasp the difference between the two types of comparisons.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>: While it was difficult the implement, Alternative 3 was chosen due to the immense limitations of the first two approaches. The third alternative had little to no downside apart from requiring time to understand and implement.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-storage-file-name-and-folder-name"><a class="link" href="#aspect-storage-file-name-and-folder-name">Aspect: Storage file name and folder name</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1</strong>: Let folder name be the file name of the storage file</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less ambiguity as to how file name is related to folder name, able to find storage file path with folder name.</p>
</li>
<li>
<p>Cons: Harder to retrieve folder name from the file as it requires parsing the path, more prone to data corruption as file name could be modified when application is running (although this could be overcome with some OS-level syscalls to lock the file).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2 (current choice)</strong>: Let file name be independent of folder name, which is stored inside the storage file itself</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier to implement and avoids dependency on existing storage files after application starts.</p>
</li>
<li>
<p>Cons: When saving folders from Model, it is difficult to match folders with existing storage files. Hence, rather than saving the modified folder, it is more feasible to clear the directory and save all folders. This is computationally expensive and may not be scalable beyond a certain size.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>: While in the long-run, the first alternative appears to better decision, time limitations make Alternative 2 good enough for most practical use cases. The saved time was used to implement other features.</p>
</div>
</div>
<div class="sect4">
<h5 id="aspect-what-folders-to-generate-in-the-event-corrupted-storage-files-are-encountered"><a class="link" href="#aspect-what-folders-to-generate-in-the-event-corrupted-storage-files-are-encountered">Aspect: What folders to generate in the event corrupted storage files are encountered</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1</strong>: Display a sample folder</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement, guaranteed that application will not be empty with no folders displayed.</p>
</li>
<li>
<p>Cons: Non-corrupted folders will not be displayed and will potentially be overwritten.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Display non-corrupted folders</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Non-corrupted data is preserved.</p>
</li>
<li>
<p>Cons: If all data is corrupted, an empty application is presented to the user.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3 (current choice)</strong>: Mixed approach, display all non-corrupted folders unless all data is corrupted, in which case display sample folder</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Has the advantages but not the disadvantages of Alternatives 1 and 2.</p>
</li>
<li>
<p>Cons: More difficult to implement, developers will need to pay special attention to understand this behaviour.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>: Alternative 3 is the most logical decision because it achieves the important objectives of retaining non-corrupted user data, while always ensuring there is data for the user to work with even if he/she is starting the application for the first time.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="navigating-folders"><a class="link" href="#navigating-folders">3.7. Navigating folders</a></h3>
<div class="sect3">
<h4 id="current-implementation-7"><a class="link" href="#current-implementation-7">3.7.1. Current Implementation</a></h4>
<div class="sect4">
<h5 id="navigation-state"><a class="link" href="#navigation-state">Navigation State</a></h5>
<div class="paragraph">
<p>The state of the application with regard to navigation (i.e. whether a user is inside of a folder or at the home directory) affects the types of commands available to the user.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The commands that affect cards (e.g. adding a card, editing a card) are executed within folders and are known as <strong>Card Operations</strong>.</p>
</li>
<li>
<p>Commands that affect folders (e.g. adding a folder, deleting a folder) are only executable at the home directory and are known as <strong>Folder Operations</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Please refer to the User Guide for the full list of commands under both categories.</p>
</div>
<div class="paragraph">
<p>To keep track of navigation state, an enum <code>State</code> is maintained by the <code>ModelManager</code>. Other components may retrieve the current state with <code>ModelManager#getState()</code>. This is also how the <code>Command</code> objects determines whether the command is executable in the present navigation state.</p>
</div>
</div>
<div class="sect4">
<h5 id="change-directory-command"><a class="link" href="#change-directory-command">Change Directory Command</a></h5>
<div class="paragraph">
<p>Folder navigation is achieved by the user through the use of the <code>change</code> command. As navigating folders do not actually modify folders and their cards, folder navigation does not involve the Storage Component.</p>
</div>
<div class="paragraph">
<p>The change directory command has the following formats:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>cd ..</code> - Returns the user to the home directory. This command can only be executed when the user is inside a folder.</p>
</li>
<li>
<p><code>cd FOLDER_INDEX</code> - Enters the folder specified by <code>FOLDER_INDEX</code>. This command can only be executed from the home directory, when the user is not in any folder.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When a <code>cd</code> command is executed, the Logic component parses the command and creates a <code>ChangeDirectoryCommand</code> object. If the command is of the first format, <code>ChangeDirectoryCommand()</code> is invoked without any arguments and the boolean <code>isExitingFolder</code> is set to <code>true</code>. If the command is of the second format, the overloaded constructor <code>ChangeDirectoryCommand(FOLDER_INDEX)</code> is instead called and <code>isExitingFolder</code> is set to <code>false</code>.</p>
</div>
<div class="paragraph">
<p><code>ChangeDirectoryCommand#execute()</code> is then invoked. The value of <code>isExitingFolder</code> will determine the corresponding methods in <code>ModelManager</code> that are called (<code>exitFoldersToHome()</code> or <code>enterFolder()</code>). The sequence diagram in <a href="#changecommandsequencediagram">Figure 11, &#8220;Component interactions for <code>cd</code> command&#8221;</a> illustrates this conditional choice and the interactions involved with each option.</p>
</div>
<div id="changecommandsequencediagram" class="imageblock">
<div class="content">
<img src="images/ChangeCommandSequenceDiagram.png" alt="ChangeCommandSequenceDiagram" width="600">
</div>
<div class="title">Figure 11. Component interactions for <code>cd</code> command</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-7"><a class="link" href="#design-considerations-7">3.7.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-command-format-to-enter-and-exit-folders"><a class="link" href="#aspect-command-format-to-enter-and-exit-folders">Aspect: Command format to enter and exit folders</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Use variations of the same command (e.g. <code>cd ..</code> and <code>cd INDEX</code> )</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More intuitive and akin to other Command Line applications.</p>
</li>
<li>
<p>Cons: Harder to implement as the logic for parsing the command is different from that of existing commands.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: Use distinct commands (e.g. <code>home</code> and <code>enter INDEX</code>)</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Commands would function similar to other commands in the application.</p>
</li>
<li>
<p>Cons: Harder for the user to get acquainted with as there are two separate commands with logically similar functionality; introduces redundancy.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>: This matter is highly subjective and conflicting feedback was received during testing. However, we believe that our target audience, a user familiar with the command line, would be more used to navigation with a single command and as such would prefer Alternative 1.</p>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="test-session-feature"><a class="link" href="#test-session-feature">3.8. Test Session feature</a></h3>
<div class="sect3">
<h4 id="overall-current-implementation"><a class="link" href="#overall-current-implementation">3.8.1. Overall Current Implementation</a></h4>
<div class="paragraph">
<p>This big feature mainly involves <code>UI</code>, <code>Logic</code> and <code>Model</code> components.</p>
</div>
<div class="paragraph">
<p>There are 3 main variables in <code>ModelManager</code> introduced to keep track of the current state of the user in a test
session.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>currentTestedCardFolder</code></p>
<div class="ulist">
<ul>
<li>
<p>The current card folder that the user is running a test session on (stored as an <code>ObservableList</code> of cards) .</p>
</li>
<li>
<p>Set to null if user is not inside a test session</p>
</li>
</ul>
</div>
</li>
<li>
<p><code>currentTestedCard</code></p>
<div class="ulist">
<ul>
<li>
<p>The current card the user is seeing in the test session, obtained from <code>currentTestedCardFolder</code> using
<code>currentTestedCardIndex</code>.</p>
</li>
<li>
<p>Set to null if user is not inside a test session</p>
</li>
<li>
<p>Related methods:</p>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#setCurrentTestedCard(Card card)</code> - set <code>currentTestedCard</code> to the card specified.</p>
</li>
<li>
<p><code>ModelManager#getCurrentTestedCard()</code> - returns the <code>currentTestedCard</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><code>cardAlreadyAnswered</code></p>
<div class="ulist">
<ul>
<li>
<p>A boolean variable to indicate if the user has already executed a valid answer command for the current card.</p>
</li>
<li>
<p>Related methods:</p>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#setCardAsAnswered()</code> - set <code>cardAlreadyAnswered</code> to true.</p>
</li>
<li>
<p><code>ModelManager#setCardAsNotAnswered()</code> - set <code>cardAlreadyAnswered</code> to false.</p>
</li>
<li>
<p><code>ModelManager#isCardAlreadyAnswered()</code> - returns true if the current card has already been answered and false
otherwise.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="overall-design-considerations"><a class="link" href="#overall-design-considerations">3.8.2. Overall Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-usage-of-an-extra-card-variable-to-keep-track-of-the-current-card-in-test-session"><a class="link" href="#aspect-usage-of-an-extra-card-variable-to-keep-track-of-the-current-card-in-test-session">Aspect: Usage of an extra card variable to keep track of the current card in test session</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: Introduce another variable, <code>currentTestedCard</code>, to store the card to display
in the test session.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More reader friendly. Save time from accessing the list to get card at that index.</p>
</li>
<li>
<p>Cons: Extra space used.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: No introduction of <code>currentTestedCard</code> as using the <code>currentTestedCardIndex</code> suffices. Every time a
card is needed, can simply reference it using <code>currentTestedCardFolder#getIndex(currentTestedCardIndex)</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: No need to store an extra variable so this method uses less space.</p>
</li>
<li>
<p>Cons: Not so reader friendly. Need to keep accessing the list using the index which can potentially lead to
possible violation of the Law of Demeter where an object should only interact with objects that are closely related to it.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>:
We went with Alternative 1 since not a large amount of memory is taken up with just 1 extra card stored. As there will
be several references to the <code>currentTestedCard</code>, it will be better to store them somewhere. Abiding by the Law
of Demeter, <code>currentTestedCard</code> object will not be interacting with <code>currentTestedCardFolder</code>,  limiting its
knowledge of that object which is encouraged according to the Principle of Least Knowledge.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="test-end-command"><a class="link" href="#test-end-command">3.8.3. Test / End Command</a></h4>
<div class="sect4">
<h5 id="current-implementation-8"><a class="link" href="#current-implementation-8">Current Implementation</a></h5>
<h6 id="model-5" class="discrete">Model</h6>
<div class="paragraph">
<p>The main logic for  <code>test</code> and <code>end</code> command is carried out in <code>ModelManager</code> with the following methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#startTestSession()</code> - begins a test session on the current card folder user is in and implicitly sorts
the cards in it.</p>
</li>
<li>
<p><code>ModelManager#endTestSession()</code> - ends the current test session.</p>
</li>
</ul>
</div>
<h6 id="ui-2" class="discrete">UI</h6>
<div class="paragraph">
<p>To update the change in the UI to reflect that the user is a test session (app goes to full screen with question of
the current card presented), the following methods are introduced.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MainWindow#handleStartTestSession(Card card)</code> - creates a new <code>TestSession</code> page with the card specified and bring
the page forward in front of the current <code>CardMainScreen</code> page.</p>
</li>
<li>
<p><code>MainWindow#handleEndTestSession()</code> - deletes the current <code>TestSession</code> page and the <code>CardMainScreen</code> page at the back
is now presented to the user.</p>
</li>
</ul>
</div>
<h6 id="example-usage-of-test-command" class="discrete">Example Usage of test command</h6>
<div class="paragraph">
<p>To illustrate how the <code>UI</code>, <code>Model</code> and <code>Logic</code> components interact, below is a walkthrough of a typical usage scenario of
the test command.
<a href="#testcommandsequencediagram">Figure 12, &#8220;Component interactions for a test command&#8221;</a> is a sequence diagram that summarises <code>Model</code> and <code>Logic</code> interactions, namely steps 1 to 7.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>. User is inside a folder and wants to begin a test session on the current folder by executing the command
<code>test</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>. As with every command, the command parser reads the input and generates the relevant <code>Command</code> object, in
this case a <code>TestCommand</code>. The object is returned to the <code>LogicManager</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>. The <code>LogicManager</code> executes the <code>TestCommand</code>, storing the result and then transferring control to the
Model component, with <code>Model#getState()</code> to check that user is inside a folder and is not already in a test session.
(This is omitted from <a href="#testcommandsequencediagram">Figure 12, &#8220;Component interactions for a test command&#8221;</a> for simplicity.)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user is not inside a folder, this test command would be rendered invalid. Step 4 would not proceed and an
error message is displayed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>. After checking user is in a folder, <code>ModelManager#startTestSession()</code> method is invoked, which
does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>currentTestedCardFolder</code> is set to the current folder the user is in, by invoking <code>getCardList()</code> from the active
<code>VersionedCardFolder</code> in <code>folders</code>.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If this folder is empty such that there is no card to present to the user, an <code>EmptyCardFolderException</code> is thrown,
to be caught in <code>TestCommand</code>, which then throws a <code>CommandException</code> to display an error message.
</td>
</tr>
</table>
</div>
</li>
<li>
<p>The cards in this folder are sorted in ascending scores by invoking <code>sortFilteredCard(comparator)</code>, so that
lowest score cards will be presented first to the user in a test session.</p>
</li>
<li>
<p><code>ModelManager#setCurrentTestedCard(currentTestedCardIndex)</code> is then invoked to set <code>currentTestedCard</code> to the first
card in the folder as <code>currentTestedCardIndex</code> is set to 0.</p>
</li>
<li>
<p><code>state</code> in <code>Model</code> is set to <code>IN_TEST</code> to specify that user is in a test session from now onwards.</p>
</li>
<li>
<p>No change to <code>cardAlreadyAnswered</code> as it is by default false.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>. For <code>TestCommand</code> to obtain the first card to present in the test session,
<code>ModelManager#getCurrentTestedCard()</code> is invoked and the <code>Card</code>, <code>c</code>, is returned.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>. With control now transferred back to the logic unit, <code>TestCommand</code> creates a <code>CommandResult</code> object, <code>r</code> with the type <code>START_TEST_SESSION</code>, and
set <code>testSessionCard</code> in <code>CommandResult</code> to <code>c</code> obtained in Step 5.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>. <code>r</code> is returned to <code>LogicManager</code> which then terminates and returns <code>r</code> to the caller method.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>. The caller method here is in <code>MainWindow</code>. Control is now transferred to the UI component.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>. <code>MainWindow</code> sees that <code>CommandResult</code> object <code>r</code> has the type <code>START_TEST_SESSION</code>. It invokes
<code>MainWindow#handleStartTestSession(currentTestedCard)</code> to display the <code>currentTestedCard</code> question and hints to the
user.</p>
</div>
<div id="testcommandsequencediagram" class="imageblock">
<div class="content">
<img src="images/TestCommandSequenceDiagram.png" alt="TestCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 12. Component interactions for a test command</div>
</div>
<h6 id="exampleusageofendcommand" class="discrete">Example Usage of end command</h6>
<div class="paragraph">
<p><strong>Step 1</strong>. User is currently in a test session and executes the command <code>end</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>. An <code>EndCommand</code> object is created and <code>LogicManager</code> executes the <code>EndCommand</code>, storing the result and then
transferring control to the Model component, with <code>Model#getState()</code> to check that user is indeed in a test session.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user is not in a test session, Step 3 would not proceed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>. <code>ModelManager#endTestSession()</code> method is invoked, which does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>currentTestedCardFolder</code> is set to null.</p>
</li>
<li>
<p><code>ModelManager#setCurrentTestedCard(null)</code> is invoked to set <code>currentTestedCard</code> to null.</p>
</li>
<li>
<p><code>state</code> in <code>Model</code> is set to <code>IN_FOLDER</code> to specify that user is back in the folder.</p>
</li>
<li>
<p><code>ModelManager#setCardAsNotAnswered()</code> is invoked.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>. As control is now transferred back to the logic unit, <code>EndCommand</code> creates a <code>CommandResult</code> object, <code>r</code> with
the type <code>END_TEST_SESSION</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>. <code>r</code> is returned to <code>LogicManager</code> which then terminates and returns <code>r</code> to the caller in <code>MainWindow</code>. Control is now transferred to the UI component.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>. <code>MainWindow</code> sees that <code>CommandResult</code> object <code>r</code> has the type <code>END_TEST_SESSION</code>. It invokes
<code>MainWindow#handleEndTestSession()</code> to delete the current <code>testSession</code> page, presenting <code>cardMainScreen</code> page at the
back (the screen the user was seeing before entering the test session) to the user.</p>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-8"><a class="link" href="#design-considerations-8">Design Considerations</a></h5>
<div class="sect5">
<h6 id="aspect-way-to-execute-a-test-end-command"><a class="link" href="#aspect-way-to-execute-a-test-end-command">Aspect: Way to execute a test/end command</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>: <code>test</code> is executed when inside a folder. The user does not have to specify the
folder index and <code>test</code> would just immediately display the first card in this current folder.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The most logical way of carrying out a test session is when the user is in the folder that he or she wants to
be tested on. Lesser dependency on entering and exiting folder methods.</p>
</li>
<li>
<p>Cons: Requires the extra step of entering the folder before it can test the folder. User may actually see the questions before the test session.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: <code>test</code> is executed when outside a folder, in the home directory. Test command would require a
folder index, e.g <code>test 1</code> to test the first folder. Implementation of getting the card from the folder would rely on
enter folder command as well.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Fast way to enter test session from home directory</p>
</li>
<li>
<p>Cons: Not logical for <code>test</code> to be called from inside the home directory which should only allow folder operations.
<code>test</code> will then have to implicitly enter the folder to gain access to the cards in it in order to display them,
creating a
dependency between the test and enter folder commands.
Similar issue will arise for the end test session command where user will need to implicitly exit the folder.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>:
Overall, Alternative 1 is a better choice following the Single Level of Abstraction Principle(SLAP) where a function
should not mix different levels of abstractions. We can then better achieve higher cohesion and lower coupling.
Also, user being able to see the questions before the test session is not a big issue since the answer will not be shown unless user selects the card.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="answer-command"><a class="link" href="#answer-command">3.8.4. Answer Command</a></h4>
<div class="sect4">
<h5 id="current-implementation-9"><a class="link" href="#current-implementation-9">Current Implementation</a></h5>
<h6 id="model-6" class="discrete">Model</h6>
<div class="paragraph">
<p>To facilitate the marking of attempted answer, we introduce the following method in <code>ModelManager</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#markAttemptedAnswer(Answer attemptedAnswer)</code> - returns true if attemptedAnswer is correct and
false if attemptedAnswer is wrong. It compares the attempted answer and the correct answer obtained from the current
card.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Comparison is not case-sensitive
</td>
</tr>
</table>
</div>
<h6 id="logic-4" class="discrete">Logic</h6>
<div class="paragraph">
<p>To facilitate the update of score after marking the card, we introduce the following method in <code>ModelManager</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ModelManager#createScoredCard(Card cardToMark, boolean markCorrect)</code> - creates a new card with the
updated score.</p>
</li>
</ul>
</div>
<h6 id="ui-3" class="discrete">UI</h6>
<div class="paragraph">
<p>To update the change in the <code>UI</code> to show the user the result of the marked answer, whether it is correct or wrong, the following methods are introduced.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MainWindow#handleCorrectAnswer()</code> - updates current <code>TestSession</code> page to green colour background with correct
answer and correct answer description.</p>
</li>
<li>
<p><code>MainWindow#handleWrongAnswer()</code> - updates current <code>TestSession</code> page to red colour background with correct answer
and wrong answer description.</p>
</li>
</ul>
</div>
<h6 id="example-usage-of-answer-command" class="discrete">Example Usage of answer command</h6>
<div class="paragraph">
<p>To illustrate how the components interact, below is a walkthrough of a typical usage scenario of the answer command.
<a href="#answercommandsequencediagram">Figure 13, &#8220;Component interactions for a answer command&#8221;</a> is a sequence diagram that summarises <code>Model</code> and <code>Logic</code> interactions, namely steps 1
to 8.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>. User is in a test session and wants to answer the question on the card currently presented by executing
<code>ans four</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>. An <code>AnswerCommand</code> object is created and <code>LogicManager</code> executes the <code>AnswerCommand</code>, storing the result and
then transferring control to the Model component, with <code>Model#getState()</code> and
<code>ModelManager#isCardAlreadyAnswered()</code> to check that user is indeed in a test session and has not attempted an answer
 already. (This is omitted from <a href="#answercommandsequencediagram">Figure 13, &#8220;Component interactions for a answer command&#8221;</a> for simplicity.)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user is not in a test session or already attempted an answer for the current card, this <code>ans</code> command would be
rendered invalid. Step 3 would not proceed and an error message is displayed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>. After both checks have passed, <code>ModelManager#setCardAsAnswered()</code> is invoked.</p>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>. <code>ModelManager</code> now marks the attempted answer by invoking <code>ModelManager#markAttemptedAnswer(attemptedAnswer)</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>. Given the result of the attempt, a new card exactly the same as the current
card but with the updated score is created and replaces the current one by invoking <code>ModelManager#createScoredCard(Card
cardToMark, boolean markCorrect)</code> followed by <code>Model#setCard(cardToMark, scoredCard)</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>. To complete the update in the change in score, <code>Model#updateFilteredCard(PREDICATE_SHOW_ALL_CARDS)</code> and
<code>Model#commitActiveCardFolder()</code> are invoked.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>. <code>AnswerCommand</code> now creates a <code>CommandResult</code> object, <code>r</code> with either type <code>ANSWER_CORRECT</code> or <code>ANSWER_WRONG</code>
 depending on the outcome of the attempt.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>. <code>r</code> is returned to <code>LogicManager</code> which then terminates and returns <code>r</code> to the caller.</p>
</div>
<div class="paragraph">
<p><strong>Step 9</strong>. The caller method is in <code>MainWindow</code>. Control is now transferred to the UI component.</p>
</div>
<div class="paragraph">
<p><strong>Step 10</strong>. If <code>MainWindow</code> sees that <code>CommandResult</code> object <code>r</code> has the type <code>ANSWER_CORRECT</code>, it invokes
<code>MainWindow#handleCorrectAnswer()</code> to display the correct attempt <code>TestSession</code> page to the user.
If <code>MainWindow</code> sees that <code>CommandResult</code> object <code>r</code> has the type <code>ANSWER_WRONG</code>, it invokes
<code>MainWindow#handleWrongAnswer()</code> to display the wrong attempt <code>TestSession</code> page to the user.</p>
</div>
<div id="answercommandsequencediagram" class="imageblock">
<div class="content">
<img src="images/AnswerCommandSequenceDiagram.png" alt="AnswerCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 13. Component interactions for a answer command</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="next-command"><a class="link" href="#next-command">3.8.5. Next Command</a></h4>
<div class="sect4">
<h5 id="current-implementation-10"><a class="link" href="#current-implementation-10">Current Implementation</a></h5>
<h6 id="model-7" class="discrete">Model</h6>
<div class="paragraph">
<p>The following method is introduced in <code>ModelManager</code> to display to the user the next card in the test session.</p>
</div>
<div class="paragraph">
<p><code>ModelManager#testNextCard()</code> - returns true if it successfully finds a next card to present in the test session and
false otherwise (if there is no more cards left to test in the folder).</p>
</div>
<h6 id="ui-4" class="discrete">UI</h6>
<div class="paragraph">
<p>To display the next card in the test session, the method below is introduced in <code>MainWindow</code>.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MainWindow#handleNextCardTestSession(Card card)</code> - deletes the current <code>TestSession</code> page and adds a new
<code>TestSession</code> page with this next card specified.</p>
</li>
</ul>
</div>
<h6 id="example-usage-of-next-command" class="discrete">Example Usage of next command</h6>
<div class="paragraph">
<p>To illustrate how the <code>UI</code>, <code>Model</code> and <code>Logic</code> components interact, below is a walkthrough of a typical usage scenario of
the next command.
<a href="#nextcommandsequencediagram">Figure 14, &#8220;Component interactions for a <code>next</code> command&#8221;</a> is a sequence diagram that summarises <code>Model</code> and <code>Logic</code> interactions, namely steps 1
to 6.</p>
</div>
<div class="paragraph">
<p><strong>Step 1</strong>. User is in a test session and wants to move on to the next card by executing a <code>next</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 2</strong>. A <code>NextCommand</code> object is created and <code>LogicManager</code> executes the <code>NextCommand</code>, storing the result and
then transferring control to the Model component, with <code>Model#getState()</code> and
<code>ModelManager#isCardAlreadyAnswered()</code> to check that user is indeed in a test session and has attempted an
answer already. (This is omitted from <a href="#nextcommandsequencediagram">Figure 14, &#8220;Component interactions for a <code>next</code> command&#8221;</a> for simplicity.)</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the user is not in a test session or has not attempted an answer for the current card, this <code>next</code> command would be
rendered invalid. Step 3 would not proceed and an error message is displayed.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Step 3</strong>. After both checks have passed, <code>ModelManager#testNextCard()</code> method is invoked, which does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>currentTestedCardIndex</code> incremented by 1.</p>
</li>
<li>
<p><code>currentTestedCardIndex</code> is then checked if it equals to the size of <code>currentTestedCardFolder</code>.</p>
<div class="ulist">
<ul>
<li>
<p>Case 1: This check returns true.<br>
This means <code>currentTestedCardIndex</code> is invalid and there
is no more next card to be presented to the user. This method immediately returns false.</p>
</li>
<li>
<p>Case 2: This check returns true.<br>
This means <code>currentTestedCardIndex</code> is valid and will be used to get the next card
 from <code>currentTestedCardFolder</code>. This card is set as the <code>currentTestedCard</code> via the <code>ModelManager#setCurrentTestedCard
(cardToTest)</code>. <code>ModelManager#setCardAsNotAnswered</code> is then invoked to reset the value of <code>cardAlreadyAnswered</code>. This
method returns true.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Step 4</strong>. From the result of <code>ModelManager#testNextCard()</code> method earlier:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Case 1: Method returns false.<br>
A <code>next</code> command will be equivalent to an <code>end</code> command. <code>ModelManager#endTestSession()</code> is invoked. Step 5 does not
proceed. Instead, step 3 and onwards of the <a href="#exampleusageofendcommand">Example Usage of end command</a> takes over.</p>
</li>
<li>
<p>Case 2: Method returns true.
For <code>NextCommand</code> to obtain the next card to present in the test session, <code>ModelManager#getCurrentTestedCard()</code> is
invoked and the <code>Card</code>, <code>c</code>, is returned.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Step 5</strong>. With control now transferred back to the logic unit, <code>NextCommand</code> creates a <code>CommandResult</code> object, <code>r</code> with
the type <code>SHOW_NEXT_CARD</code>, and set <code>testSessionCard</code> in <code>CommandResult</code> to <code>c</code>.</p>
</div>
<div class="paragraph">
<p><strong>Step 6</strong>. <code>r</code> is returned to <code>LogicManager</code> which then terminates and returns <code>r</code> to the caller method.</p>
</div>
<div class="paragraph">
<p><strong>Step 7</strong>. The caller method here is in <code>MainWindow</code>. Control is now transferred to the UI component.</p>
</div>
<div class="paragraph">
<p><strong>Step 8</strong>. <code>MainWindow</code> sees that <code>CommandResult</code> object <code>r</code> has the type <code>SHOW_NEXT_CARD</code>. It invokes
<code>MainWindow#handleNextCardTestSession(currentTestedCard)</code> to display this new <code>currentTestedCard</code> question and hints
to the user.</p>
</div>
<div id="nextcommandsequencediagram" class="imageblock">
<div class="content">
<img src="images/NextCommandSequenceDiagram.png" alt="NextCommandSequenceDiagram" width="800">
</div>
<div class="title">Figure 14. Component interactions for a <code>next</code> command</div>
</div>
</div>
<div class="sect4">
<h5 id="design-considerations-9"><a class="link" href="#design-considerations-9">Design Considerations</a></h5>
<div class="sect5">
<h6 id="aspect-behavior-of-next-command-executed-on-the-last-card"><a class="link" href="#aspect-behavior-of-next-command-executed-on-the-last-card">Aspect: Behavior of next command executed on the last card</a></h6>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice)</strong>:  A <code>next</code> command will be equivalent to an <code>end</code> command</p>
<div class="ulist">
<ul>
<li>
<p>Pros: More convenient and user-friendly. It is common sense to end the test session for the user.</p>
</li>
<li>
<p>Cons: By right, it is not correct since next command is just to show the next card.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2</strong>: A <code>next</code> command will throw an exception</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Most correct way to do it since there is no next card to display.</p>
</li>
<li>
<p>Cons: User may not understand. It is not user-friendly as user has to keep track of which card it is at to prevent the exception thrown.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Evaluation</strong>:
With our target audience in mind, Alternative 1 is the more user friendly and intuitive way to handle this scenario.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="undo-redo-feature"><a class="link" href="#undo-redo-feature">3.9. Undo/Redo feature</a></h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The following section details a feature implemented in the earlier iteration of the application. As such, the diagrams still refer to <code>AddressBook</code>, which has since replaced with <code>CardFolder</code>. The outdated diagrams here will be updated by <code>v2.0</code>.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="current-implementation-11"><a class="link" href="#current-implementation-11">3.9.1. Current Implementation</a></h4>
<div class="paragraph">
<p>The undo/redo mechanism is facilitated by <code>VersionedCardFolder</code>.
It extends <code>CardFolder</code> with an undo/redo history, stored internally as an <code>cardFolderStateList</code> and <code>currentStatePointer</code>.
Additionally, it implements the following operations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>VersionedCardFolder#commit()</code>&#8201;&#8212;&#8201;Saves the current card folder state in its history.</p>
</li>
<li>
<p><code>VersionedCardFolder#undo()</code>&#8201;&#8212;&#8201;Restores the previous card folder state from its history.</p>
</li>
<li>
<p><code>VersionedCardFolder#redo()</code>&#8201;&#8212;&#8201;Restores a previously undone card folder state from its history.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These operations are exposed in the <code>Model</code> interface as <code>Model#commitCardFolder()</code>, <code>Model#undoCardFolder()</code> and <code>Model#redoCardFolder()</code> respectively.</p>
</div>
<div class="paragraph">
<p>Given below is an example usage scenario and how the undo/redo mechanism behaves at each step.</p>
</div>
<div class="paragraph">
<p>Step 1. The user launches the application for the first time. The <code>VersionedCardFolder</code> will be initialized with the initial card folder state, and the <code>currentStatePointer</code> pointing to that single card folder state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoStartingStateListDiagram.png" alt="UndoRedoStartingStateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Step 2. The user executes <code>delete 5</code> command to delete the 5th card in the card folder. The <code>delete</code> command calls <code>Model#commitCardFolder()</code>, causing the modified state of the card folder after the <code>delete 5</code> command executes to be saved in the <code>cardFolderStateList</code>, and the <code>currentStatePointer</code> is shifted to the newly inserted card folder state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand1StateListDiagram.png" alt="UndoRedoNewCommand1StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Step 3. The user executes <code>add q/Some question &#8230;&#8203;</code> to add a new card. The <code>add</code> command also calls <code>Model#commitCardFolder()</code>, causing another modified card folder state to be saved into the <code>cardFolderStateList</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand2StateListDiagram.png" alt="UndoRedoNewCommand2StateListDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If a command fails its execution, it will not call <code>Model#commitCardFolder()</code>, so the card folder state will not be saved into the <code>cardFolderStateList</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 4. The user now decides that adding the card was a mistake, and decides to undo that action by executing the <code>undo</code> command. The <code>undo</code> command will call <code>Model#undoCardFolder()</code>, which will shift the <code>currentStatePointer</code> once to the left, pointing it to the previous card folder state, and restores the card folder to that state.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoExecuteUndoStateListDiagram.png" alt="UndoRedoExecuteUndoStateListDiagram" width="800">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index 0, pointing to the initial card folder state, then there are no previous card folder states to restore. The <code>undo</code> command uses <code>Model#canUndoCardFolder()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the undo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the undo operation works:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoSequenceDiagram.png" alt="UndoRedoSequenceDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The <code>redo</code> command does the opposite&#8201;&#8212;&#8201;it calls <code>Model#redoCardFolder()</code>, which shifts the <code>currentStatePointer</code> once to the right, pointing to the previously undone state, and restores the card folder to that state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If the <code>currentStatePointer</code> is at index <code>cardFolderStateList.size() - 1</code>, pointing to the latest card folder state, then there are no undone card folder states to restore. The <code>redo</code> command uses <code>Model#canRedoCardFolder()</code> to check if this is the case. If so, it will return an error to the user rather than attempting to perform the redo.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Step 5. The user then decides to execute the command <code>list</code>. Commands that do not modify the card folder, such as <code>list</code>, will usually not call <code>Model#commitCardFolder()</code>, <code>Model#undoCardFolder()</code> or <code>Model#redoCardFolder()</code>. Thus, the <code>cardFolderStateList</code> remains unchanged.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand3StateListDiagram.png" alt="UndoRedoNewCommand3StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>Step 6. The user executes <code>clear</code>, which calls <code>Model#commitCardFolder()</code>. Since the <code>currentStatePointer</code> is not pointing at the end of the <code>cardFolderStateList</code>, all card folder states after the <code>currentStatePointer</code> will be purged. We designed it this way because it no longer makes sense to redo the <code>add q/Some question &#8230;&#8203;</code> command. This is the behavior that most modern desktop applications follow.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoNewCommand4StateListDiagram.png" alt="UndoRedoNewCommand4StateListDiagram" width="800">
</div>
</div>
<div class="paragraph">
<p>The following activity diagram summarizes what happens when a user executes a new command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UndoRedoActivityDiagram.png" alt="UndoRedoActivityDiagram" width="650">
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-10"><a class="link" href="#design-considerations-10">3.9.2. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-how-undo-redo-executes"><a class="link" href="#aspect-how-undo-redo-executes">Aspect: How undo &amp; redo executes</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Saves the entire card folder.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy to implement.</p>
</li>
<li>
<p>Cons: May have performance issues in terms of memory usage.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Individual command knows how to undo/redo by itself.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Will use less memory (e.g. for <code>delete</code>, just save the card being deleted).</p>
</li>
<li>
<p>Cons: We must ensure that the implementation of each individual command are correct.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-data-structure-to-support-the-undo-redo-commands"><a class="link" href="#aspect-data-structure-to-support-the-undo-redo-commands">Aspect: Data structure to support the undo/redo commands</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a list to store the history of card folder states.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easy for new Computer Science student undergraduates to understand, who are likely to be the new incoming developers of our project.</p>
</li>
<li>
<p>Cons: Logic is duplicated twice. For example, when a new command is executed, we must remember to update both <code>HistoryManager</code> and <code>VersionedCardFolder</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use <code>HistoryManager</code> for undo/redo</p>
<div class="ulist">
<ul>
<li>
<p>Pros: We do not need to maintain a separate list, and just reuse what is already in the codebase.</p>
</li>
<li>
<p>Cons: Requires dealing with commands that have already been undone: We must remember to skip these commands. Violates Single Responsibility Principle and Separation of Concerns as <code>HistoryManager</code> now needs to do two different things.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.10. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3.11, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3.11. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="documentation"><a class="link" href="#documentation">4. Documentation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>We use asciidoc for writing documentation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
We chose asciidoc over Markdown because asciidoc, although a bit more complex than Markdown, provides more flexibility in formatting.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="editing-documentation"><a class="link" href="#editing-documentation">4.1. Editing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to learn how to render <code>.adoc</code> files locally to preview the end result of your edits.
Alternatively, you can download the AsciiDoc plugin for IntelliJ, which allows you to preview the changes you have made to your <code>.adoc</code> files in real-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="publishing-documentation"><a class="link" href="#publishing-documentation">4.2. Publishing Documentation</a></h3>
<div class="paragraph">
<p>See <a href="UsingTravis.html#deploying-github-pages">UsingTravis.adoc</a> to learn how to deploy GitHub Pages using Travis.</p>
</div>
</div>
<div class="sect2">
<h3 id="converting-documentation-to-pdf-format"><a class="link" href="#converting-documentation-to-pdf-format">4.3. Converting Documentation to PDF format</a></h3>
<div class="paragraph">
<p>We use <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a> for converting documentation to PDF format, as Chrome&#8217;s PDF engine preserves hyperlinks used in webpages.</p>
</div>
<div class="paragraph">
<p>Here are the steps to convert the project documentation files to PDF format.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the instructions in <a href="UsingGradle.html#rendering-asciidoc-files">UsingGradle.adoc</a> to convert the AsciiDoc files in the <code>docs/</code> directory to HTML format.</p>
</li>
<li>
<p>Go to your generated HTML files in the <code>build/docs</code> folder, right click on them and select <code>Open with</code> &#8594; <code>Google Chrome</code>.</p>
</li>
<li>
<p>Within Chrome, click on the <code>Print</code> option in Chrome&#8217;s menu.</p>
</li>
<li>
<p>Set the destination to <code>Save as PDF</code>, then click <code>Save</code> to save a copy of the file in PDF format. For best results, use the settings indicated in the screenshot below.</p>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/chrome_save_as_pdf.png" alt="chrome save as pdf" width="300">
</div>
<div class="title">Figure 15. Saving documentation as PDF files in Chrome</div>
</div>
</div>
<div class="sect2">
<h3 id="Docs-SiteWideDocSettings"><a class="link" href="#Docs-SiteWideDocSettings">4.4. Site-wide Documentation Settings</a></h3>
<div class="paragraph">
<p>The <a href="https://github.com/cs2103-ay1819s2-w10-4/main/build.gradle"><code>build.gradle</code></a> file specifies some project-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes">asciidoc attributes</a> which affects how all documentation files within this project are rendered.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in the <code>build.gradle</code> file will use their <strong>default value</strong>, if any.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 1. List of site-wide attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute question</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-name</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>The question of the website.
If set, the question will be displayed near the top of the page.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-githuburl</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>URL to the site&#8217;s repository on <a href="https://github.com">GitHub</a>.
Setting this will add a "View on GitHub" link in the navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-seedu</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Define this attribute if the project is an official SE-EDU project.
This will render the SE-EDU navigation bar at the top of the page, and add some SE-EDU-specific navigation items.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="Docs-PerFileDocSettings"><a class="link" href="#Docs-PerFileDocSettings">4.5. Per-file Documentation Settings</a></h3>
<div class="paragraph">
<p>Each <code>.adoc</code> file may also specify some file-specific <a href="https://asciidoctor.org/docs/user-manual/#attributes">asciidoc attributes</a> which affects how the file is rendered.</p>
</div>
<div class="paragraph">
<p>Asciidoctor&#8217;s <a href="https://asciidoctor.org/docs/user-manual/#builtin-attributes">built-in attributes</a> may be specified and used as well.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Attributes left unset in <code>.adoc</code> files will use their <strong>default value</strong>, if any.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 2. List of per-file attributes, excluding Asciidoctor&#8217;s built-in attributes</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 50%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Attribute question</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>site-section</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Site section that the document belongs to.
This will cause the associated item in the navigation bar to be highlighted.
One of: <code>UserGuide</code>, <code>DeveloperGuide</code>, <code>LearningOutcomes</code>*, <code>AboutUs</code>, <code>ContactUs</code></p>
</div>
<div class="paragraph">
<p><em>* Official SE-EDU projects only</em></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>no-site-header</code></p></td>
<td class="tableblock halign-left valign-top"><div><div class="paragraph">
<p>Set this attribute to remove the site navigation bar.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>not set</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="site-template"><a class="link" href="#site-template">4.6. Site Template</a></h3>
<div class="paragraph">
<p>The files in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/stylesheets"><code>docs/stylesheets</code></a> are the <a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS stylesheets</a> of the site.
You can modify them to change some properties of the site&#8217;s design.</p>
</div>
<div class="paragraph">
<p>The files in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/templates"><code>docs/templates</code></a> controls the rendering of <code>.adoc</code> files into HTML5.
These template files are written in a mixture of <a href="https://www.ruby-lang.org">Ruby</a> and <a href="http://slim-lang.com">Slim</a>.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Modifying the template files in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/docs/templates"><code>docs/templates</code></a> requires some knowledge and experience with Ruby and Asciidoctor&#8217;s API.
You should only modify them if you need greater control over the site&#8217;s layout than what stylesheets can provide.
The SE-EDU team does not provide support for modified template files.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="Testing"><a class="link" href="#Testing">5. Testing</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="running-tests"><a class="link" href="#running-tests">5.1. Running Tests</a></h3>
<div class="paragraph">
<p>There are three ways to run tests.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The most reliable way to run tests is the 3rd one. The first two methods might fail some GUI tests due to platform/resolution-specific idiosyncrasies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 1: Using IntelliJ JUnit test runner</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>To run all tests, right-click on the <code>src/test/java</code> folder and choose <code>Run 'All Tests'</code></p>
</li>
<li>
<p>To run a subset of tests, you can right-click on a test package, test class, or a test and choose <code>Run 'ABC'</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Method 2: Using Gradle</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Open a console and run the command <code>gradlew clean allTests</code> (Mac/Linux: <code>./gradlew clean allTests</code>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
See <a href="UsingGradle.html">UsingGradle.adoc</a> for more info on how to run tests using Gradle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><strong>Method 3: Using Gradle (headless)</strong></p>
</div>
<div class="paragraph">
<p>Thanks to the <a href="https://github.com/TestFX/TestFX">TestFX</a> library we use, our GUI tests can be run in the <em>headless</em> mode. In the headless mode, GUI tests do not show up on the screen. That means the developer can do other things on the Computer while the tests are running.</p>
</div>
<div class="paragraph">
<p>To run tests in headless mode, open a console and run the command <code>gradlew clean headless allTests</code> (Mac/Linux: <code>./gradlew clean headless allTests</code>)</p>
</div>
</div>
<div class="sect2">
<h3 id="types-of-tests"><a class="link" href="#types-of-tests">5.2. Types of tests</a></h3>
<div class="paragraph">
<p>We have two types of tests:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>GUI Tests</strong> - These are tests involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>System Tests</em> that test the entire App by simulating user actions on the GUI. These are in the <code>systemtests</code> package.</p>
</li>
<li>
<p><em>Unit tests</em> that test the individual components. These are in <code>seedu.knowitall.ui</code> package.</p>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Non-GUI Tests</strong> - These are tests not involving the GUI. They include,</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>Unit tests</em> targeting the lowest level methods/classes.<br>
e.g. <code>seedu.knowitall.commons.StringUtilTest</code></p>
</li>
<li>
<p><em>Integration tests</em> that are checking the integration of multiple code units (those code units are assumed to be working).<br>
e.g. <code>seedu.knowitall.storage.StorageManagerTest</code></p>
</li>
<li>
<p>Hybrids of unit and integration tests. These test are checking multiple code units as well as how the are connected together.<br>
e.g. <code>seedu.knowitall.logic.LogicManagerTest</code></p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="troubleshooting-testing"><a class="link" href="#troubleshooting-testing">5.3. Troubleshooting Testing</a></h3>
<div class="paragraph">
<p><strong>Problem: <code>HelpWindowTest</code> fails with a <code>NullPointerException</code>.</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Reason: One of its dependencies, <code>HelpWindow.html</code> in <code>src/main/resources/docs</code> is missing.</p>
</li>
<li>
<p>Solution: Execute Gradle task <code>processResources</code>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="dev-ops"><a class="link" href="#dev-ops">6. Dev Ops</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="build-automation"><a class="link" href="#build-automation">6.1. Build Automation</a></h3>
<div class="paragraph">
<p>See <a href="UsingGradle.html">UsingGradle.adoc</a> to learn how to use Gradle for build automation.</p>
</div>
</div>
<div class="sect2">
<h3 id="continuous-integration"><a class="link" href="#continuous-integration">6.2. Continuous Integration</a></h3>
<div class="paragraph">
<p>We use <a href="https://travis-ci.org/">Travis CI</a> and <a href="https://www.appveyor.com/">AppVeyor</a> to perform <em>Continuous Integration</em> on our projects. See <a href="UsingTravis.html">UsingTravis.adoc</a> and <a href="UsingAppVeyor.html">UsingAppVeyor.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="coverage-reporting"><a class="link" href="#coverage-reporting">6.3. Coverage Reporting</a></h3>
<div class="paragraph">
<p>We use <a href="https://coveralls.io/">Coveralls</a> to track the code coverage of our projects. See <a href="UsingCoveralls.html">UsingCoveralls.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="documentation-previews"><a class="link" href="#documentation-previews">6.4. Documentation Previews</a></h3>
<div class="paragraph">
<p>When a pull request has changes to asciidoc files, you can use <a href="https://www.netlify.com/">Netlify</a> to see a preview of how the HTML version of those asciidoc files will look like when the pull request is merged. See <a href="UsingNetlify.html">UsingNetlify.adoc</a> for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="making-a-release"><a class="link" href="#making-a-release">6.5. Making a Release</a></h3>
<div class="paragraph">
<p>Here are the steps to create a new release.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Update the version number in <a href="https://github.com/cs2103-ay1819s2-w10-4/main/src/main/java/seedu/knowitall/MainApp.java"><code>MainApp.java</code></a>.</p>
</li>
<li>
<p>Generate a JAR file <a href="UsingGradle.html#creating-the-jar-file">using Gradle</a>.</p>
</li>
<li>
<p>Tag the repo with the version number. e.g. <code>v0.1</code></p>
</li>
<li>
<p><a href="https://help.github.com/articles/creating-releases/">Create a new release using GitHub</a> and upload the JAR file you created.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="managing-dependencies"><a class="link" href="#managing-dependencies">6.6. Managing Dependencies</a></h3>
<div class="paragraph">
<p>A project often depends on third-party libraries. For example, card folder depends on the <a href="https://github.com/FasterXML/jackson">Jackson library</a> for JSON parsing. Managing these <em>dependencies</em> can be automated using Gradle. For example, Gradle can download the dependencies automatically, which is better than these alternatives:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Include those libraries in the repo (this bloats the repo size)</p>
</li>
<li>
<p>Require developers to download those libraries manually (this creates extra work for developers)</p>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>medicine students who need to rote memorisation of information</p>
</li>
<li>
<p>finds carrying physical flashcards around troublesome and prefers an application to help them store and organize
their learning material</p>
</li>
<li>
<p>prefer desktop apps over other types</p>
</li>
<li>
<p>can type fast</p>
</li>
<li>
<p>prefers typing over mouse input</p>
</li>
<li>
<p>is reasonably comfortable using CLI apps</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: flashcards that are able to test the user instead of simply having them recall the answer. The
user experience is more engaging and scoring is more accurate as it is based on actual performance rather than reported performance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have flashcards with questions and answers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have an easier time memorising content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create and delete my own flashcards</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">edit the content of my flashcards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add on more content or correct any errors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have folders to store flashcards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">logically group flashcards of the same topic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">navigate in and out of folders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see one folder&#8217;s cards at each point of time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">test myself on each flashcard folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better learn the content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attempt keying in answers before flashcards reveal them</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a more engaging experience</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view the answers of questions directly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">proceed even when I do not remember the answer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know how well I&#8217;ve been performing on each flashcard</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know my overall progress</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">view a progress report by folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know my performance for each topic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">sort flashcards by score</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know which questions i have more trouble answering</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">import and export flashcards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">share content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search flash cards in a folder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save time looking for a particular card</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">search folders</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">save time looking for a particular folder</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">move flashcards from one folder to another</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better manage my flashcards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add hints that I can toggle on/off</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">get help with more difficult cards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add pictures to certain flashcards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">better represent topics that heavily feature topics and diagrams</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a question that expects more than one answer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">test myself more complex questions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">different template designs for my flashcards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a personalised experience while revising</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is <code>Know-It-All</code> and the <strong>Actor</strong> is the <code>Student</code>, unless specified otherwise)</p>
</div>
<h3 id="uc01-test-flashcards" class="discrete">UC01 Test flashcards</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student is inside a folder and begins a test session.</p>
</li>
<li>
<p>System presents the question on the lowest-performing flashcard first.</p>
</li>
<li>
<p>Student inputs his/her answer.</p>
</li>
<li>
<p>System indicates whether student’s answer is correct or wrong and shows the answer of the flashcard.</p>
</li>
<li>
<p>Student navigates to next flashcard.</p>
</li>
<li>
<p>Repeat steps 2-4 until all the flashcards in the folder are tested.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>3a. Student doesn&#8217;t know the answer and wants to see the answer without attempting.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>3a1. Student uses the reveal command.</p>
</li>
<li>
<p>3a2. Answer is displayed to the student.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc02-add-flashcards" class="discrete">UC02 Add flashcards</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student navigates to a folder that he wants to add a flashcard to.</p>
</li>
<li>
<p>Student inputs question and answer to be stored as flashcard.</p>
</li>
<li>
<p>System stores the details as a flashcard under the current folder.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Student only inputs a question but no answer.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. System displays an error message informing the user that the command format is invalid.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc03-edit-flashcard-question" class="discrete">UC03 Edit flashcard question</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student navigates to the folder that contains the flashcard to be edited.</p>
</li>
<li>
<p>Student indicates the card to be edited, as well as the new question.</p>
</li>
<li>
<p>System stores the updated details for the edited card.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Student enters a blank as the desired question.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. System displays an error message informing the user that the question cannot be a blank.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2b. Student enters a card index that does not exist.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2b1. System displays an error message prompting the user to choose a valid card index.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc04-add-folder" class="discrete">UC04 Add folder</h3>
<div class="paragraph">
<p><strong>Guarantees</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A folder of the desired name is created.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student navigates to home directory.</p>
</li>
<li>
<p>Student inputs the name of the folder he wants to create.</p>
</li>
<li>
<p>System creates a folder of the desired name and shows it on the home directory.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Student inputs a name that already exists.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. System displays an error message prompting the user to use a folder name that is not taken.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc05-edit-folder-name" class="discrete">UC05 Edit folder name</h3>
<div class="paragraph">
<p><strong>Guarantees</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>A particular folder as selected by the student is renamed to the desired name.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student navigates to home directory.</p>
</li>
<li>
<p>Student indicates the folder he wants to rename, as well as the new name.</p>
</li>
<li>
<p>System renames the folder to the new name and shows it on the home directory.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2a. Student inputs a name that already exists.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2a1. System displays an error message prompting the user to use a folder name that is not taken.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2b. Student chooses a folder that does not exist.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2b1. System displays an error message prompting the user to choose a valid folder.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>2c. Student enters a blank as the desired new folder name.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>2c1. System displays an error message informing that the folder name cannot be a blank.</p>
<div class="paragraph">
<p>Use case resumes from step 2.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc06-navigating-into-folders" class="discrete">UC06 Navigating into folders</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student indicates the folder he wants to enter.</p>
</li>
<li>
<p>System enters the folder and displays the folder content.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>Extensions</strong></p>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1a. Student chooses a folder that does not exist.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1a1. System displays an error message prompting the user to choose a valid folder.</p>
<div class="paragraph">
<p>Use case resumes from step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist none">
<ul class="none">
<li>
<p>1b. Student is already inside a folder.</p>
<div class="ulist none">
<ul class="none">
<li>
<p>1b1. System displays an error message informing that the user can only navigate into the folder when he is at the home directory.</p>
</li>
<li>
<p>1b2. Student navigates back to home directory.</p>
<div class="paragraph">
<p>Use case resumes from step 1.</p>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
<h3 id="uc06-display-report-for-a-folder" class="discrete">UC06 Display report for a folder</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Student enters the a folder.</p>
</li>
<li>
<p>Student indicates that they want to see the report for this folder.</p>
</li>
<li>
<p>System displays a full-screen report.</p>
<div class="paragraph">
<p>Use case ends</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Should work on any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>9</code> or higher installed.</p>
</li>
<li>
<p>Should be able to hold up to 1000 cards without a noticeable sluggishness in performance for typical usage.</p>
</li>
<li>
<p>A user with above average typing speed for regular English text (i.e. not code, not system admin commands) should be able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>The user interface should be intuitive enough even for medical students to use the app.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cardanswer"></a> <strong>Card Answer</strong>: The correct answer of a card.</p>
</div>
<div class="paragraph">
<p><a id="cardhint"></a> <strong>Card Hint</strong>: The optional hint of a card.</p>
</div>
<div class="paragraph">
<p><a id="cardoption"></a> <strong>Card Option</strong>: An incorrect option for an MCQ card.</p>
</div>
<div class="paragraph">
<p><a id="cardquestion"></a> <strong>Card Question</strong>: The question of a card.</p>
</div>
<div class="paragraph">
<p><a id="cardscore"></a>  <strong>Card Score</strong>: The number of correct answers divided by the number of attempts for a single card. When the user is tested on a card, this number is automatically calculated and recorded.</p>
</div>
<div class="paragraph">
<p><a id="flashcard"></a><strong>Flashcard/Card</strong>: An object containing a single question and answer, and optionally, hints. There are 2 types of cards, Single-answer and MCQ. MCQ cards feature incorrect options in addition to the card answer, while Single-answer cards do not.</p>
</div>
<div class="paragraph">
<p><a id="folder"></a> <strong>Folder</strong>: A collections of flashcards, grouped topically. There are no
sub-folders.</p>
</div>
<div class="paragraph">
<p><a id="testscore"></a> <strong>Test score</strong>: The number of cards correctly answered over number of cards attempted during a test session. This number is automatically recorded after each test session.</p>
</div>
<div class="paragraph">
<p><a id="homedirectory"></a> <strong>Home Directory</strong>: The home page where all the folders are listed. From here, users can enter folders to view cards.</p>
</div>
<div class="paragraph">
<p><a id="mainstream-os"></a><strong>Mainstream OS</strong>: Windows, Linux, Unix, OS-X</p>
</div>
<div class="paragraph">
<p><a id="testsession"></a> <strong>Test Session</strong>: A session where all flashcards in a folder are queued to have their
questions displayed. The user is required to key in an answer for each question.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions to test the app manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
These instructions only provide a starting point for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="launch-and-shutdown"><a class="link" href="#launch-and-shutdown">F.1. Launch and Shutdown</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the jar file and copy into an empty folder</p>
</li>
<li>
<p>Double-click the jar file<br>
Expected: Shows the GUI with a sample folder. The window size may not be optimal.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Saving window preferences</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Resize the window to an optimum size. Move the window to a different location. Close the window.</p>
</li>
<li>
<p>Re-launch the app by double-clicking the jar file.<br>
Expected: The most recent window size and location is retained.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="starting-and-ending-a-test-session"><a class="link" href="#starting-and-ending-a-test-session">F.2. Starting and ending a test session</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start a test session while inside a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a folder using the <code>cd</code> command. For example, <code>cd 1</code> will enter the first folder. All the cards
in the folder are listed.</p>
</li>
<li>
<p>Test case: <code>test</code><br>
Expected: Enters a test session, where the display area enters a fullscreen and the lowest scoring
flashcard question and hints (if any) will be displayed first. <code>In Test Session</code> is shown on the status message
and status bar.</p>
</li>
<li>
<p>Test case: <code>test</code> on an empty folder (this folder has no cards)<br>
Expected: The error <code>This command is not valid on an empty folder</code> is shown in the status message. Status bar
remains the same (still in folder).</p>
</li>
<li>
<p>Test case: <code>test</code> when not inside a folder (prerequisite not fulfilled, like being in the home directory, already
in a test session or in report display)<br>
   Expected: The error <code>Command can only be executed in folder</code> is shown in the status message. Status bar
   remains the same.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Ends a current test session</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a test session by typing <code>test</code> when inside a folder. Display area enters fullscreen and
lowest scoring flashcard question and hints are displayed. Tester can also be in any state in the test session</p>
</li>
<li>
<p>Test case: <code>end</code><br>
Expected: Ends the current test session, where the display area exits fullscreen and be back inside the folder. <code>End
Test Session</code> is shown on the status message and status bar shows that tester is back inside the folder.</p>
</li>
<li>
<p>Test case: <code>end</code> when not inside a test or report (prerequisite not fulfilled, like being in the home directory or
in a folder)<br>
  Expected: The error <code>This command is not valid outside a test or report</code> is shown in the status message. Status bar
  remains the same.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="answerquestionintest"><a class="link" href="#answerquestionintest">F.3. Answering a question in a test session</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Input an answer to a question inside a test session</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a test session by typing <code>test</code> when inside a folder. Display area enters fullscreen and
lowest scoring flashcard question and hints are displayed</p>
</li>
<li>
<p>Test case: <code>ans x</code> where x can be anything but empty for <strong>non-MCQ cards</strong><br>
Expected: If the correct answer to the flashcard question is <code>x</code>, a green page with correct
attempt notification will be displayed. Otherwise, a red page with wrong answer notification will be displayed.
For both cases, status bar remains the same to be still in test session</p>
</li>
<li>
<p>Test case: <code>ans x</code> where x can be any integers for <strong>MCQ cards</strong><br>
Expected: If the option number with the correct answer to the flashcard question is <code>x</code>, a green
page with correct attempt notification will be displayed. Otherwise, a red page with wrong answer notification
will be displayed. For both cases, status bar remains the same to be still in test session</p>
</li>
<li>
<p>Test case: <code>ans x</code> where x is not an integer and not empty for <strong>MCQ cards</strong><br>
Expected: The error <code>MCQ question expects option number as answer</code> is shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Test case: <code>ans</code> <br>
Expected: The error <code>Invalid Command Format</code> is shown in the status message. Status bar remains the same.</p>
</li>
<li>
<p>Test case: <code>ans x</code> and type <code>ans y</code> again where x and y can be anything for <strong>non-MCQ cards</strong><br>
Expected: Cannot input an attempt to an already answered question. The error <code>Answer command is valid only when a
question is displayed</code> is shown in the status message. Status bar remains the same.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="navigating-to-the-next-question-in-a-test-session"><a class="link" href="#navigating-to-the-next-question-in-a-test-session">F.4. Navigating to the next question in a test session</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the next question in a test session after answering the current question</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a test session by typing <code>test</code> when inside a folder. Display area enters fullscreen and
lowest scoring flashcard question and hints are displayed. Answer the current question by following
<a href="#answerquestionintest">Section F.3, &#8220;Answering a question in a test session&#8221;</a> or reveal the answer so the current card has already been tested.</p>
</li>
<li>
<p>Test case: <code>next</code> where there are still cards left untested<br>
Expected: Next lowest scoring question and hints (if any) are displayed. Status bar remains the same to be still
in test session.</p>
</li>
<li>
<p>Test case: <code>next</code> where there are no more cards left to test<br>
Expected: Ends the current test session, so display area exits fullscreen and status bar changes to reflect tester
 is back inside a folder.</p>
</li>
<li>
<p>Test case: <code>next</code>  when prerequisite is not fulfilled where the current question is not yet answered or revealed<br>
Expected: The error <code>Next command is valid only when this question has been answered</code> is shown in the status message. Status bar remains the same.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="viewing-a-report-display"><a class="link" href="#viewing-a-report-display">F.5. Viewing a report display</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>View report display</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a folder. The tester may want to ensure that they have at least two
test attempts on this folder, as a line graph requires at least two points to be drawn. (If there are fewer than two
 attempts, it is not a bug if no line is drawn.)</p>
</li>
<li>
<p>Test case: <code>report</code><br>
Expected: Enters report display, where the display area enters fullscreen. A graph is displayed showing maximum of
last ten test scores for this folder. A list, maximum of the three lowest scoring questions, is displayed.
<code>Report displayed</code> is shown on the status message and status bar shows that tester is in report display.</p>
</li>
<li>
<p>Test case: Other invalid commands such <code>test</code>, <code>add</code>, or a second <code>report</code> command.<br>
Expected: They should not be allowed. An error message will be displayed.</p>
</li>
<li>
<p>Test case: <code>end</code><br>
Expected: Ends the current report session, where the display area exits fullscreen and be back inside the folder. <code>End
Report Session</code> is shown on the status message and status bar shows that tester is back inside the folder.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sorting-the-cards"><a class="link" href="#sorting-the-cards">F.6. Sorting the cards</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Sort</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: Enter a folder. The tester may want to ensure that they have at least two
cards in this folder, or else there is no way to tell if the sort happened.</p>
</li>
<li>
<p>Test case: <code>sort</code><br>
Expected: Sorts cards in non-descending percentage score. If card A is above card B, card A will not have a higher
percentage score than card B.
<code>Sorted flashcards with lowest score first</code> is shown on the status message.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="folder-operations"><a class="link" href="#folder-operations">F.7. Folder operations</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Adding a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be at the home directory (status bar should read <code>In Home Directory</code>) and have only one folder called "Sample Folder". To get this configuration, you can delete all data files except for the jar file and relaunch the application.</p>
</li>
<li>
<p>Test case: <code>addfolder Folder 1</code><br>
Expected: A folder by the name of "Folder 1" is added. Status message confirms that the folder added, and the new folder can be found in the list of folders.</p>
</li>
<li>
<p>Test case: <code>addfolder Sample Folder</code><br>
Expected: No folder is added. Error details shown in the status message.</p>
</li>
<li>
<p>Other incorrect addfolder commands to try: <code>addfolder</code>, <code>addfolder Special/Chars</code>, <code>addfolder x</code> (where x is string longer than 50 characters)<br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Deleting a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be at the home directory (status bar should read <code>In Home Directory</code>) and have at least one folder.</p>
</li>
<li>
<p>Test case: <code>deletefolder 1</code><br>
Expected: The folder at index 1 is deleted. Status message confirms that the folder is deleted, and the folder can no longer be found in the list of folders.</p>
</li>
<li>
<p>Test case: <code>deletefolder 0</code><br>
Expected: No folder is deleted. Error details shown in the status message.</p>
</li>
<li>
<p>Other incorrect deletefolder commands to try: <code>deletefolder</code>, <code>deletefolder Sample Folder</code>, <code>deletefolder x</code> (where x is larger than the list length)<br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Renaming a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be at the home directory (status bar should read <code>In Home Directory</code>) and have at least one folder called "Sample Folder", and no folder called "New Name".</p>
</li>
<li>
<p>Test case: <code>editfolder x New Name</code> (where x is the index of a folder that is not Sample Folder)<br>
Expected: The folder at index x is renamed to "New Name". Status message confirms that renaming operation succeeded.</p>
</li>
<li>
<p>Test case: <code>editfolder x Sample Folder</code> (where x is the index of Sample Folder)<br>
Expected: The folder at index x is renamed to its original name. Status message confirms that renaming operation succeeded.</p>
</li>
<li>
<p>Test case: <code>editfolder x Sample Folder</code> (where x is not the index of Sample Folder)<br>
Expected: The folder at index x is not renamed. Error details shown in the status message.</p>
</li>
<li>
<p>Other incorrect editfolder commands to try: <code>editfolder</code>, <code>editfolder New Name 1</code>, <code>editfolder x New Name</code> (where x is larger than the list length)<br>
Expected: No folder is renamed. Error details shown in the status message.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Persistence of folder operations</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be at the home directory (status bar should read <code>In Home Directory</code>) and know where the data files are stored. By default, this will be at the <code>data/</code> directory at the path of the jar file.</p>
</li>
<li>
<p>Test case: <code>addfolder x</code> (where x is the name not used by any existing folder)<br>
Expected: A new json by the name of <code>x.json</code> appears in the data directory.</p>
</li>
<li>
<p>Test case: <code>deletefolder 1</code><br>
Expected: The json with the same file name as the deleted folder is no longer present in the data directory. No other files in the directory are affected.</p>
</li>
<li>
<p>Test case: <code>editfolder 1 x</code> (where x is a name not used by any existing folder)<br>
Expected: The json with the original name of the edited folder is no longer present in the data directory, replaced with a json with the new folder name.  No other files in the directory are affected.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="navigating-in-and-out-of-folders"><a class="link" href="#navigating-in-and-out-of-folders">F.8. Navigating in and out of folders</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Entering a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be at the home directory (status bar should read <code>In Home Directory</code>) and have at least one folder.</p>
</li>
<li>
<p>Test case: <code>cd 1</code><br>
Expected: Folder 1 is entered. Status message confirms this and UI is updated.</p>
</li>
<li>
<p>Test case: <code>cd x</code> (where x is larger than the list length)<br>
Expected: No folder is entered. Error details shown in the status message.</p>
</li>
<li>
<p>Other incorrect cd commands to try: <code>cd</code>, <code>cd Sample Folder</code>, <code>cd ..</code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Exiting a folder</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must be inside a folder (status bar should read <code>Inside Folder: x</code> where <code>x</code> is the name of the folder you are in).</p>
</li>
<li>
<p>Test case: <code>cd ..</code><br>
Expected: The folder is exited and you return to the home directory. Status message confirms this and UI is updated.</p>
</li>
<li>
<p>Test case: <code>cd x</code> (where x is any combination of characters other than "..")<br>
Expected: The folder is not exited. Error details shown in the status message.</p>
</li>
<li>
<p>Other incorrect cd commands to try: <code>cd</code>, <code>cd Home</code><br>
Expected: Similar to previous.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="saving-data"><a class="link" href="#saving-data">F.9. Saving data</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Dealing with missing/corrupted data files</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Prerequisites: You must know where the data files are stored. By default, this will be at the <code>data/</code> directory at the path of the jar file.</p>
</li>
<li>
<p>Test case: Delete the data directory and launch the app<br>
Expected: A sample folder is present when the app launches.</p>
</li>
<li>
<p>Test case: Insert a non-json file/corrupted json file in the data directory and launch the app<br>
Expected: The valid json files have folders with their corresponding names present. The non-json file/corrupted json file remains unaffected.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-04-15 10:00:14 UTC</div></div></div></body></html>